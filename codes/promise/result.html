<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/3.0.0/tocbot.css">
    <!-- <link rel="stylesheet" href="docs/style.css"> -->
    <style>
      body {
  padding: 40px 80px;
  font: 14px/1.5 "Helvetica Neue", Helvetica, sans-serif;
  background: #181818 url(images/bg.png);
  text-align: center;
}

#content {
  margin: 0 auto;
  padding: 10px 40px;
  text-align: left;
  background: white;
  width: 50%;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  -webkit-box-shadow: 0 2px 5px 0 black;
}

#menu {
  font-size: 13px;
  margin: 0;
  padding: 0;
  text-align: left;
  position: fixed;
  top: 15px;
  left: 15px;
}

#menu ul {
  margin: 0;
  padding: 0;
}

#menu li {
  list-style: none;
}

#menu a {
  color: rgba(255,255,255,.5);
  text-decoration: none;
}

#menu a:hover {
  color: white;
}

#menu .active a {
  color: white;
}

pre {
  padding: 10px;
}

code {
  font-family: monaco, monospace, sans-serif;
  font-size: 0.85em;
}

p code {
  border: 1px solid #ECEA75;
  padding: 1px 3px;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  background: #FDFCD1;
}

pre {
  padding: 20px 25px;
  border: 1px solid #ddd;
  -webkit-box-shadow: inset 0 0 5px #eee;
  -moz-box-shadow: inset 0 0 5px #eee;
  box-shadow: inset 0 0 5px #eee;
}

code .comment { color: #ddd }
code .init { color: #2F6FAD }
code .string { color: #5890AD }
code .keyword { color: #8A6343 }
code .number { color: #2F6FAD }

/* override tocbot style to avoid vertical white line in table of content */
.toc-link::before {
  content: initial;
}

.error {
  color:red;
  font-weight:bold;
}

    </style>
  </head>
  <body>
    <ul id="menu"></ul>
    <div id="content">0
fsdf { dummy: 'dummy' } pending 0.21720388665584078
fsdf555 { dummy: 'dummy' } 0.21720388665584078
0
    <section class="suite">
      <h1>Promises/A+ Tests</h1>
      <dl>
        <section class="suite">
          <h1>2.3.3: Otherwise, if &#x60;x&#x60; is an object or function,</h1>
          <dl>
            <section class="suite">
              <h1>2.3.3.1: Let &#x60;then&#x60; be &#x60;x.then&#x60;</h1>
              <dl>
                <section class="suite">
                  <h1>&#x60;x&#x60; is an object with null prototype</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3777500118392989
fsdf555 { dummy: 'dummy' } 0.3777500118392989
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;x&#x60; is an object with normal Object.prototype</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8871824674382796
fsdf555 { dummy: 'dummy' } 0.8871824674382796
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;x&#x60; is a function</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7849961738000686
fsdf555 { dummy: 'dummy' } 0.7849961738000686
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
              </dl>
            </section>
            <section class="suite">
              <h1>2.3.3.2: If retrieving the property &#x60;x.then&#x60; results in a thrown exception &#x60;e&#x60;, reject &#x60;promise&#x60; with &#x60;e&#x60; as the reason.</h1>
              <dl>
                <section class="suite">
                  <h1>&#x60;e&#x60; is &#x60;undefined&#x60;</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.35526206166683183
fsdf555 [Function] 0.35526206166683183
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9529244182306198
fsdf555 { dummy: 'dummy' } 0.9529244182306198
0
fuk
fuk
1
fsdf [Function] pending 0.8725825401446521
fsdf555 [Function] 0.8725825401446521
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is &#x60;null&#x60;</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.80682793812181
fsdf555 [Function] 0.80682793812181
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.0939634443499584
fsdf555 { dummy: 'dummy' } 0.0939634443499584
0
fuk
fuk
1
fsdf [Function] pending 0.3968920909515059
fsdf555 [Function] 0.3968920909515059
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is &#x60;false&#x60;</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.802257655290431
fsdf555 [Function] 0.802257655290431
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2844570940325992
fsdf555 { dummy: 'dummy' } 0.2844570940325992
0
fuk
fuk
1
fsdf [Function] pending 0.7590153230417829
fsdf555 [Function] 0.7590153230417829
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is &#x60;0&#x60;</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.6226025420871846
fsdf555 [Function] 0.6226025420871846
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8382686249062663
fsdf555 { dummy: 'dummy' } 0.8382686249062663
0
fuk
fuk
1
fsdf [Function] pending 0.3126597609200672
fsdf555 [Function] 0.3126597609200672
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is an error</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.6122199580680912
fsdf555 [Function] 0.6122199580680912
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6378398508097036
fsdf555 { dummy: 'dummy' } 0.6378398508097036
0
fuk
fuk
1
fsdf [Function] pending 0.21067593292651154
fsdf555 [Function] 0.21067593292651154
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is an error without a stack</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.05602464050209188
fsdf555 [Function] 0.05602464050209188
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.038895335720178004
fsdf555 { dummy: 'dummy' } 0.038895335720178004
0
fuk
fuk
1
fsdf [Function] pending 0.06807716483928705
fsdf555 [Function] 0.06807716483928705
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is a date</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.942232918249623
fsdf555 [Function] 0.942232918249623
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5857512350740812
fsdf555 { dummy: 'dummy' } 0.5857512350740812
0
fuk
fuk
1
fsdf [Function] pending 0.9011893759530532
fsdf555 [Function] 0.9011893759530532
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is an object</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.3191838710052377
fsdf555 [Function] 0.3191838710052377
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9738212858257131
fsdf555 { dummy: 'dummy' } 0.9738212858257131
0
fuk
fuk
1
fsdf [Function] pending 0.8959489611144367
fsdf555 [Function] 0.8959489611144367
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is an always-pending thenable</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.21632447673322086
fsdf555 [Function] 0.21632447673322086
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.46705985009374085
fsdf555 { dummy: 'dummy' } 0.46705985009374085
0
fuk
fuk
1
fsdf [Function] pending 0.3134046317660626
fsdf555 [Function] 0.3134046317660626
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is a fulfilled promise</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.13252900038195325
fsdf555 [Function] 0.13252900038195325
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.14969936207895973
fsdf555 { dummy: 'dummy' } 0.14969936207895973
0
fuk
fuk
1
fsdf [Function] pending 0.1972918916779589
fsdf555 [Function] 0.1972918916779589
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;e&#x60; is a rejected promise</h1>
                  <dl>
0
fuk
fuk
1
345345435435 [Function]
fsdf [Function] pending 0.44089312826969373
fsdf555 [Function] 0.44089312826969373
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9118729806362158
fsdf555 { dummy: 'dummy' } 0.9118729806362158
0
fuk
fuk
1
fsdf [Function] pending 0.13474615306865578
fsdf555 [Function] 0.13474615306865578
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
              </dl>
            </section>
            <section class="suite">
              <h1>2.3.3.3: If &#x60;then&#x60; is a function, call it with &#x60;x&#x60; as &#x60;this&#x60;, first argument &#x60;resolvePromise&#x60;, and second argument &#x60;rejectPromise&#x60;</h1>
              <dl>
                <section class="suite">
                  <h1>Calls with &#x60;x&#x60; as &#x60;this&#x60; and two function arguments</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.17809565823879336
fsdf555 { dummy: 'dummy' } 0.17809565823879336
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>Uses the original value of &#x60;then&#x60;</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9246073471688281
fsdf555 { dummy: 'dummy' } 0.9246073471688281
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>2.3.3.3.1: If/when &#x60;resolvePromise&#x60; is called with value &#x60;y&#x60;, run &#x60;[[Resolve]](promise, y)&#x60;</h1>
                  <dl>
                    <section class="suite">
                      <h1>&#x60;y&#x60; is not a thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is &#x60;undefined&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd undefined undefined
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9281190617157893
fsdf555 { dummy: 'dummy' } 0.9281190617157893
0
fuk
fuk
1
1
dbdbdbd undefined undefined
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd undefined undefined
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7841261673585738
fsdf555 { dummy: 'dummy' } 0.7841261673585738
0
fuk
fuk
1
1
dbdbdbd undefined undefined
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is &#x60;null&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd null null
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.29550586390954536
fsdf555 { dummy: 'dummy' } 0.29550586390954536
0
fuk
fuk
1
1
dbdbdbd null null
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd null null
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.651366052795018
fsdf555 { dummy: 'dummy' } 0.651366052795018
0
fuk
fuk
1
1
dbdbdbd null null
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is &#x60;false&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd false false
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.21957146593602261
fsdf555 { dummy: 'dummy' } 0.21957146593602261
0
fuk
fuk
1
1
dbdbdbd false false
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd false false
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3942912555636815
fsdf555 { dummy: 'dummy' } 0.3942912555636815
0
fuk
fuk
1
1
dbdbdbd false false
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is &#x60;5&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd 5 5
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.39447792183125574
fsdf555 { dummy: 'dummy' } 0.39447792183125574
0
fuk
fuk
1
1
dbdbdbd 5 5
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd 5 5
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7359558345770372
fsdf555 { dummy: 'dummy' } 0.7359558345770372
0
fuk
fuk
1
1
dbdbdbd 5 5
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an object</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6346932150261644
fsdf555 { dummy: 'dummy' } 0.6346932150261644
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.13337874222339963
fsdf555 { dummy: 'dummy' } 0.13337874222339963
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an array</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd [ { sentinel: 'sentinel' } ] [ { sentinel: 'sentinel' } ]
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7837925123915552
fsdf555 { dummy: 'dummy' } 0.7837925123915552
0
fuk
fuk
1
1
dbdbdbd [ { sentinel: 'sentinel' } ] [ { sentinel: 'sentinel' } ]
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd [ { sentinel: 'sentinel' } ] [ { sentinel: 'sentinel' } ]
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8121238477411505
fsdf555 { dummy: 'dummy' } 0.8121238477411505
0
fuk
fuk
1
1
dbdbdbd [ { sentinel: 'sentinel' } ] [ { sentinel: 'sentinel' } ]
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;y&#x60; is a thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7503239612472803
fsdf555 { dummy: 'dummy' } 0.7503239612472803
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.12764491585693327
fsdf555 { dummy: 'dummy' } 0.12764491585693327
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2542654491320635
fsdf555 { dummy: 'dummy' } 0.2542654491320635
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7753519543763663
fsdf555 { dummy: 'dummy' } 0.7753519543763663
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.398284142193406
fsdf555 { dummy: 'dummy' } 0.398284142193406
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9835256614729093
fsdf555 { dummy: 'dummy' } 0.9835256614729093
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.02965617731854353
fsdf555 { dummy: 'dummy' } 0.02965617731854353
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9408862463386947
fsdf555 { dummy: 'dummy' } 0.9408862463386947
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.8258999312304085
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8303196129739194
fsdf555 { dummy: 'dummy' } 0.8303196129739194
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.19572298138051036
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.3940315999603399
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3195771807961012
fsdf555 { dummy: 'dummy' } 0.3195771807961012
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.17896032101927384
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.32282663076904394
fsdf555 { dummy: 'dummy' } 0.32282663076904394
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.13862196626295376
fsdf555 { dummy: 'dummy' } 0.13862196626295376
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.25446044982179017
fsdf555 { dummy: 'dummy' } 0.25446044982179017
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.31191366739019855
fsdf555 { dummy: 'dummy' } 0.31191366739019855
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3206808041658906
fsdf555 { sentinel: 'sentinel' } 0.3206808041658906
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.21043298500382224
fsdf555 { dummy: 'dummy' } 0.21043298500382224
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.36076949352146825
fsdf555 { sentinel: 'sentinel' } 0.36076949352146825
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.49008148161737086
fsdf555 { sentinel: 'sentinel' } 0.49008148161737086
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.45260235747007194
fsdf555 { dummy: 'dummy' } 0.45260235747007194
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7150837237947054
fsdf555 { sentinel: 'sentinel' } 0.7150837237947054
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.29293681201725597
fsdf555 { sentinel: 'sentinel' } 0.29293681201725597
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.20027969730941675
fsdf555 { dummy: 'dummy' } 0.20027969730941675
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.26574466378514106
fsdf555 { sentinel: 'sentinel' } 0.26574466378514106
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.05815248309497045
fsdf555 { sentinel: 'sentinel' } 0.05815248309497045
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5064827626037463
fsdf555 { dummy: 'dummy' } 0.5064827626037463
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4952076871591815
fsdf555 { sentinel: 'sentinel' } 0.4952076871591815
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.1005878628731589
fsdf555 { sentinel: 'sentinel' } 0.1005878628731589
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6311401845945193
fsdf555 { dummy: 'dummy' } 0.6311401845945193
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6052891133429681
fsdf555 { sentinel: 'sentinel' } 0.6052891133429681
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.42484863862910704
fsdf555 { sentinel: 'sentinel' } 0.42484863862910704
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.40720280076355
fsdf555 { dummy: 'dummy' } 0.40720280076355
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5878823207215942
fsdf555 { sentinel: 'sentinel' } 0.5878823207215942
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { sentinel: 'sentinel' }
fsdf { sentinel: 'sentinel' } pending 0.2723111170533419
fsdf555 { sentinel: 'sentinel' } 0.2723111170533419
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6198352794007154
fsdf555 { dummy: 'dummy' } 0.6198352794007154
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7990884370231235
fsdf555 { sentinel: 'sentinel' } 0.7990884370231235
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { sentinel: 'sentinel' }
fsdf { sentinel: 'sentinel' } pending 0.6433308216745666
fsdf555 { sentinel: 'sentinel' } 0.6433308216745666
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4113026471346446
fsdf555 { dummy: 'dummy' } 0.4113026471346446
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7573991754544587
fsdf555 { sentinel: 'sentinel' } 0.7573991754544587
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { sentinel: 'sentinel' }
fsdf { sentinel: 'sentinel' } pending 0.8835858038984015
fsdf555 { sentinel: 'sentinel' } 0.8835858038984015
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9643954977058897
fsdf555 { dummy: 'dummy' } 0.9643954977058897
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5148873701868786
fsdf555 { sentinel: 'sentinel' } 0.5148873701868786
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { sentinel: 'sentinel' }
fsdf { sentinel: 'sentinel' } pending 0.011854587460394583
fsdf555 { sentinel: 'sentinel' } 0.011854587460394583
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.09290053870957049
fsdf555 { dummy: 'dummy' } 0.09290053870957049
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2949773647408698
fsdf555 { sentinel: 'sentinel' } 0.2949773647408698
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6310219728035689
fsdf555 { sentinel: 'sentinel' } 0.6310219728035689
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.15809095581736154
fsdf555 { sentinel: 'sentinel' } 0.15809095581736154
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3245811449649849
fsdf555 { dummy: 'dummy' } 0.3245811449649849
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8974327268509206
fsdf555 { sentinel: 'sentinel' } 0.8974327268509206
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8325492785838913
fsdf555 { sentinel: 'sentinel' } 0.8325492785838913
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7591235360342581
fsdf555 { sentinel: 'sentinel' } 0.7591235360342581
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5270535222065829
fsdf555 { sentinel: 'sentinel' } 0.5270535222065829
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9009933983649103
fsdf555 { dummy: 'dummy' } 0.9009933983649103
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.07213717966853328
fsdf555 { sentinel: 'sentinel' } 0.07213717966853328
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5004908067712923
fsdf555 { sentinel: 'sentinel' } 0.5004908067712923
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9587959669144062
fsdf555 { sentinel: 'sentinel' } 0.9587959669144062
1
fsdf { sentinel: 'sentinel' } pending 0.5379577022434745
fsdf555 { sentinel: 'sentinel' } 0.5379577022434745
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6561256933842727
fsdf555 { dummy: 'dummy' } 0.6561256933842727
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.3517273132963732
fsdf555 { sentinel: 'sentinel' } 0.3517273132963732
1
fsdf { sentinel: 'sentinel' } pending 0.25493771286593825
fsdf555 { sentinel: 'sentinel' } 0.25493771286593825
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.8645823360830875
fsdf555 { sentinel: 'sentinel' } 0.8645823360830875
1
fsdf { sentinel: 'sentinel' } pending 0.1467047208567398
fsdf555 { sentinel: 'sentinel' } 0.1467047208567398
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3940977080180852
fsdf555 { dummy: 'dummy' } 0.3940977080180852
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7081665124545
fsdf555 { sentinel: 'sentinel' } 0.7081665124545
1
fsdf { sentinel: 'sentinel' } pending 0.19628593361303537
fsdf555 { sentinel: 'sentinel' } 0.19628593361303537
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;y&#x60; is a thenable for a thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.13501023897261377
fsdf555 { dummy: 'dummy' } 0.13501023897261377
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.21834019818720707
fsdf555 { dummy: 'dummy' } 0.21834019818720707
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8228740432713177
fsdf555 { dummy: 'dummy' } 0.8228740432713177
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6404911379699203
fsdf555 { dummy: 'dummy' } 0.6404911379699203
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2200175220634677
fsdf555 { dummy: 'dummy' } 0.2200175220634677
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.674965418238036
fsdf555 { dummy: 'dummy' } 0.674965418238036
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.25113408175064555
fsdf555 { dummy: 'dummy' } 0.25113408175064555
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5936912193046164
fsdf555 { dummy: 'dummy' } 0.5936912193046164
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.6738967590433615
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2322379358090616
fsdf555 { dummy: 'dummy' } 0.2322379358090616
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.54479791522992
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.8047911449224827
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.31689520691129025
fsdf555 { dummy: 'dummy' } 0.31689520691129025
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.8062827189400463
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5963643145124518
fsdf555 { dummy: 'dummy' } 0.5963643145124518
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9307943677580006
fsdf555 { dummy: 'dummy' } 0.9307943677580006
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.15624242293429047
fsdf555 { dummy: 'dummy' } 0.15624242293429047
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.22178620897864687
fsdf555 { dummy: 'dummy' } 0.22178620897864687
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.86853638977648
fsdf555 { sentinel: 'sentinel' } 0.86853638977648
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5323297989256459
fsdf555 { dummy: 'dummy' } 0.5323297989256459
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5884644139821589
fsdf555 { sentinel: 'sentinel' } 0.5884644139821589
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.09334396584047622
fsdf555 { sentinel: 'sentinel' } 0.09334396584047622
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7556420777605912
fsdf555 { dummy: 'dummy' } 0.7556420777605912
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9898508522758094
fsdf555 { sentinel: 'sentinel' } 0.9898508522758094
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2005407932672243
fsdf555 { sentinel: 'sentinel' } 0.2005407932672243
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8543014462817156
fsdf555 { dummy: 'dummy' } 0.8543014462817156
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.32046277216662844
fsdf555 { sentinel: 'sentinel' } 0.32046277216662844
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3480737019528257
fsdf555 { sentinel: 'sentinel' } 0.3480737019528257
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.06689980271749763
fsdf555 { dummy: 'dummy' } 0.06689980271749763
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.26715745269932567
fsdf555 { sentinel: 'sentinel' } 0.26715745269932567
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6296032150558872
fsdf555 { sentinel: 'sentinel' } 0.6296032150558872
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9843609469080525
fsdf555 { dummy: 'dummy' } 0.9843609469080525
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.05609139161150756
fsdf555 { sentinel: 'sentinel' } 0.05609139161150756
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.1440173831722691
fsdf555 { sentinel: 'sentinel' } 0.1440173831722691
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6018150929511528
fsdf555 { dummy: 'dummy' } 0.6018150929511528
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.790347223026959
fsdf555 { sentinel: 'sentinel' } 0.790347223026959
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7892179016533687
fsdf555 { sentinel: 'sentinel' } 0.7892179016533687
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.33652775250400757
fsdf555 { dummy: 'dummy' } 0.33652775250400757
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9114446969609629
fsdf555 { sentinel: 'sentinel' } 0.9114446969609629
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.553568029507195
fsdf555 { sentinel: 'sentinel' } 0.553568029507195
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6279021094088555
fsdf555 { dummy: 'dummy' } 0.6279021094088555
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.08578131126440658
fsdf555 { sentinel: 'sentinel' } 0.08578131126440658
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.586439308109719
fsdf555 { sentinel: 'sentinel' } 0.586439308109719
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2785965205914145
fsdf555 { dummy: 'dummy' } 0.2785965205914145
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.07762271428423495
fsdf555 { sentinel: 'sentinel' } 0.07762271428423495
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6005043167428388
fsdf555 { sentinel: 'sentinel' } 0.6005043167428388
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.21201350502151328
fsdf555 { dummy: 'dummy' } 0.21201350502151328
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7667929468555177
fsdf555 { sentinel: 'sentinel' } 0.7667929468555177
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.22955642711924695
fsdf555 { sentinel: 'sentinel' } 0.22955642711924695
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5874519440649433
fsdf555 { sentinel: 'sentinel' } 0.5874519440649433
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.06846938212419751
fsdf555 { dummy: 'dummy' } 0.06846938212419751
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.27663050393712685
fsdf555 { sentinel: 'sentinel' } 0.27663050393712685
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.12418996335839894
fsdf555 { sentinel: 'sentinel' } 0.12418996335839894
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9408557607053925
fsdf555 { sentinel: 'sentinel' } 0.9408557607053925
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.37134570215207185
fsdf555 { sentinel: 'sentinel' } 0.37134570215207185
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5842778556058545
fsdf555 { dummy: 'dummy' } 0.5842778556058545
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5874858828069343
fsdf555 { sentinel: 'sentinel' } 0.5874858828069343
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4754196915956812
fsdf555 { sentinel: 'sentinel' } 0.4754196915956812
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.6432863896074963
fsdf555 { sentinel: 'sentinel' } 0.6432863896074963
1
fsdf { sentinel: 'sentinel' } pending 0.9974282582540805
fsdf555 { sentinel: 'sentinel' } 0.9974282582540805
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7232636677543423
fsdf555 { dummy: 'dummy' } 0.7232636677543423
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7675443613229376
fsdf555 { sentinel: 'sentinel' } 0.7675443613229376
1
fsdf { sentinel: 'sentinel' } pending 0.7438802092535903
fsdf555 { sentinel: 'sentinel' } 0.7438802092535903
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9632187452958629
fsdf555 { sentinel: 'sentinel' } 0.9632187452958629
1
fsdf { sentinel: 'sentinel' } pending 0.4202100471818464
fsdf555 { sentinel: 'sentinel' } 0.4202100471818464
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9482800113941372
fsdf555 { dummy: 'dummy' } 0.9482800113941372
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.0498902362090925
fsdf555 { sentinel: 'sentinel' } 0.0498902362090925
1
fsdf { sentinel: 'sentinel' } pending 0.13147242229771527
fsdf555 { sentinel: 'sentinel' } 0.13147242229771527
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6682423618913416
fsdf555 { dummy: 'dummy' } 0.6682423618913416
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7518624691914138
fsdf555 { dummy: 'dummy' } 0.7518624691914138
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.02616685665496421
fsdf555 { dummy: 'dummy' } 0.02616685665496421
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6679283773792462
fsdf555 { dummy: 'dummy' } 0.6679283773792462
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4108271966625876
fsdf555 { dummy: 'dummy' } 0.4108271966625876
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3558061004745876
fsdf555 { dummy: 'dummy' } 0.3558061004745876
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2632645662460915
fsdf555 { dummy: 'dummy' } 0.2632645662460915
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9805272789293982
fsdf555 { dummy: 'dummy' } 0.9805272789293982
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.020551958313296925
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5555742836565123
fsdf555 { dummy: 'dummy' } 0.5555742836565123
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.03727780919778123
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.06316196922316486
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5394668426554887
fsdf555 { dummy: 'dummy' } 0.5394668426554887
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.6506149068449472
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9142938743856106
fsdf555 { dummy: 'dummy' } 0.9142938743856106
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.18521084849653158
fsdf555 { dummy: 'dummy' } 0.18521084849653158
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.33089944792769455
fsdf555 { dummy: 'dummy' } 0.33089944792769455
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.08143616967679401
fsdf555 { dummy: 'dummy' } 0.08143616967679401
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7936335956168017
fsdf555 { sentinel: 'sentinel' } 0.7936335956168017
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9100843749393968
fsdf555 { dummy: 'dummy' } 0.9100843749393968
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.22144721582446203
fsdf555 { sentinel: 'sentinel' } 0.22144721582446203
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8989444742107309
fsdf555 { sentinel: 'sentinel' } 0.8989444742107309
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8031503382813188
fsdf555 { dummy: 'dummy' } 0.8031503382813188
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.44890878283109115
fsdf555 { sentinel: 'sentinel' } 0.44890878283109115
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.15034335104105678
fsdf555 { sentinel: 'sentinel' } 0.15034335104105678
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3662487658061435
fsdf555 { dummy: 'dummy' } 0.3662487658061435
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4329612380850867
fsdf555 { sentinel: 'sentinel' } 0.4329612380850867
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8776511177385742
fsdf555 { sentinel: 'sentinel' } 0.8776511177385742
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.0011609162158405795
fsdf555 { dummy: 'dummy' } 0.0011609162158405795
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5866383379747648
fsdf555 { sentinel: 'sentinel' } 0.5866383379747648
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.40124615396913765
fsdf555 { sentinel: 'sentinel' } 0.40124615396913765
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.18143763256824852
fsdf555 { dummy: 'dummy' } 0.18143763256824852
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6357866420451395
fsdf555 { sentinel: 'sentinel' } 0.6357866420451395
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3887417770267858
fsdf555 { sentinel: 'sentinel' } 0.3887417770267858
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3585099798013196
fsdf555 { dummy: 'dummy' } 0.3585099798013196
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.13472985417600158
fsdf555 { sentinel: 'sentinel' } 0.13472985417600158
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.28365100489367556
fsdf555 { sentinel: 'sentinel' } 0.28365100489367556
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3200089622031397
fsdf555 { dummy: 'dummy' } 0.3200089622031397
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.01239215872561572
fsdf555 { sentinel: 'sentinel' } 0.01239215872561572
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6563169421644275
fsdf555 { sentinel: 'sentinel' } 0.6563169421644275
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6258813842768287
fsdf555 { dummy: 'dummy' } 0.6258813842768287
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6651085112582598
fsdf555 { sentinel: 'sentinel' } 0.6651085112582598
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7507552264952722
fsdf555 { sentinel: 'sentinel' } 0.7507552264952722
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.05486365823247996
fsdf555 { dummy: 'dummy' } 0.05486365823247996
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2099326017255787
fsdf555 { sentinel: 'sentinel' } 0.2099326017255787
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2823674945015766
fsdf555 { sentinel: 'sentinel' } 0.2823674945015766
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.32056181872721456
fsdf555 { dummy: 'dummy' } 0.32056181872721456
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.037944338335855976
fsdf555 { sentinel: 'sentinel' } 0.037944338335855976
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4603436928831661
fsdf555 { sentinel: 'sentinel' } 0.4603436928831661
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.1356743432333205
fsdf555 { sentinel: 'sentinel' } 0.1356743432333205
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.813486076916456
fsdf555 { dummy: 'dummy' } 0.813486076916456
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.05803731439954096
fsdf555 { sentinel: 'sentinel' } 0.05803731439954096
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7603127246099926
fsdf555 { sentinel: 'sentinel' } 0.7603127246099926
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.1320763098939337
fsdf555 { sentinel: 'sentinel' } 0.1320763098939337
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9569564929360443
fsdf555 { sentinel: 'sentinel' } 0.9569564929360443
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7106997071570329
fsdf555 { dummy: 'dummy' } 0.7106997071570329
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.05590565417661675
fsdf555 { sentinel: 'sentinel' } 0.05590565417661675
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9923527091874214
fsdf555 { sentinel: 'sentinel' } 0.9923527091874214
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.12378895994245287
fsdf555 { sentinel: 'sentinel' } 0.12378895994245287
1
fsdf { sentinel: 'sentinel' } pending 0.5609743634611721
fsdf555 { sentinel: 'sentinel' } 0.5609743634611721
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.44654163564995386
fsdf555 { dummy: 'dummy' } 0.44654163564995386
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.05029554640595402
fsdf555 { sentinel: 'sentinel' } 0.05029554640595402
1
fsdf { sentinel: 'sentinel' } pending 0.2890213630021745
fsdf555 { sentinel: 'sentinel' } 0.2890213630021745
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.15902112146203073
fsdf555 { sentinel: 'sentinel' } 0.15902112146203073
1
fsdf { sentinel: 'sentinel' } pending 0.4837994697360537
fsdf555 { sentinel: 'sentinel' } 0.4837994697360537
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.06665781224062739
fsdf555 { dummy: 'dummy' } 0.06665781224062739
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.8195229142181468
fsdf555 { sentinel: 'sentinel' } 0.8195229142181468
1
fsdf { sentinel: 'sentinel' } pending 0.9746236284140555
fsdf555 { sentinel: 'sentinel' } 0.9746236284140555
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.025553396562001174
fsdf555 { dummy: 'dummy' } 0.025553396562001174
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2729690807811338
fsdf555 { dummy: 'dummy' } 0.2729690807811338
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9608502980763445
fsdf555 { dummy: 'dummy' } 0.9608502980763445
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8239745000019814
fsdf555 { dummy: 'dummy' } 0.8239745000019814
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.0557885818442132
fsdf555 { dummy: 'dummy' } 0.0557885818442132
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.1255601150840191
fsdf555 { dummy: 'dummy' } 0.1255601150840191
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.11189460705641663
fsdf555 { dummy: 'dummy' } 0.11189460705641663
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.07751108413538366
fsdf555 { dummy: 'dummy' } 0.07751108413538366
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.47489016626608893
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.614230255843766
fsdf555 { dummy: 'dummy' } 0.614230255843766
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.663224342662948
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.8269253131731793
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6286021537546325
fsdf555 { dummy: 'dummy' } 0.6286021537546325
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.9667568404785944
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.26645697372228594
fsdf555 { dummy: 'dummy' } 0.26645697372228594
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.04743191105337741
fsdf555 { dummy: 'dummy' } 0.04743191105337741
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7556983167905629
fsdf555 { dummy: 'dummy' } 0.7556983167905629
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.36107208821435166
fsdf555 { dummy: 'dummy' } 0.36107208821435166
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.41452686850861276
fsdf555 { sentinel: 'sentinel' } 0.41452686850861276
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.08796533906146586
fsdf555 { dummy: 'dummy' } 0.08796533906146586
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8135851646673387
fsdf555 { sentinel: 'sentinel' } 0.8135851646673387
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8433717519012156
fsdf555 { sentinel: 'sentinel' } 0.8433717519012156
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2115276769974479
fsdf555 { dummy: 'dummy' } 0.2115276769974479
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.282689018543534
fsdf555 { sentinel: 'sentinel' } 0.282689018543534
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2699908939368616
fsdf555 { sentinel: 'sentinel' } 0.2699908939368616
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8525145988384628
fsdf555 { dummy: 'dummy' } 0.8525145988384628
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7918824288231716
fsdf555 { sentinel: 'sentinel' } 0.7918824288231716
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6011509566459912
fsdf555 { sentinel: 'sentinel' } 0.6011509566459912
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8005725137092723
fsdf555 { dummy: 'dummy' } 0.8005725137092723
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7549547732833217
fsdf555 { sentinel: 'sentinel' } 0.7549547732833217
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7436659685959408
fsdf555 { sentinel: 'sentinel' } 0.7436659685959408
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.18792263531232245
fsdf555 { dummy: 'dummy' } 0.18792263531232245
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7471113644384435
fsdf555 { sentinel: 'sentinel' } 0.7471113644384435
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6721017510815184
fsdf555 { sentinel: 'sentinel' } 0.6721017510815184
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.31829732923365506
fsdf555 { dummy: 'dummy' } 0.31829732923365506
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4660345758230857
fsdf555 { sentinel: 'sentinel' } 0.4660345758230857
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.06378034754952244
fsdf555 { sentinel: 'sentinel' } 0.06378034754952244
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3572907006330297
fsdf555 { dummy: 'dummy' } 0.3572907006330297
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4364402139770409
fsdf555 { sentinel: 'sentinel' } 0.4364402139770409
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8335590443262255
fsdf555 { sentinel: 'sentinel' } 0.8335590443262255
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8813487129469137
fsdf555 { dummy: 'dummy' } 0.8813487129469137
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.01430762370152494
fsdf555 { sentinel: 'sentinel' } 0.01430762370152494
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.06765152595664659
fsdf555 { sentinel: 'sentinel' } 0.06765152595664659
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.11270712583952536
fsdf555 { dummy: 'dummy' } 0.11270712583952536
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.06623147632845239
fsdf555 { sentinel: 'sentinel' } 0.06623147632845239
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6193416324081538
fsdf555 { sentinel: 'sentinel' } 0.6193416324081538
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.25851318880011176
fsdf555 { dummy: 'dummy' } 0.25851318880011176
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.448676005902102
fsdf555 { sentinel: 'sentinel' } 0.448676005902102
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3280478036726846
fsdf555 { sentinel: 'sentinel' } 0.3280478036726846
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.16101939016525435
fsdf555 { sentinel: 'sentinel' } 0.16101939016525435
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.45004783585372055
fsdf555 { dummy: 'dummy' } 0.45004783585372055
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6747164723899883
fsdf555 { sentinel: 'sentinel' } 0.6747164723899883
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4016399185556214
fsdf555 { sentinel: 'sentinel' } 0.4016399185556214
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3330017565806809
fsdf555 { sentinel: 'sentinel' } 0.3330017565806809
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7562875586677007
fsdf555 { sentinel: 'sentinel' } 0.7562875586677007
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8699183376841222
fsdf555 { dummy: 'dummy' } 0.8699183376841222
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2817974940188388
fsdf555 { sentinel: 'sentinel' } 0.2817974940188388
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7723051895440278
fsdf555 { sentinel: 'sentinel' } 0.7723051895440278
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.25231322880628837
fsdf555 { sentinel: 'sentinel' } 0.25231322880628837
1
fsdf { sentinel: 'sentinel' } pending 0.6422933230165613
fsdf555 { sentinel: 'sentinel' } 0.6422933230165613
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.22556466400717023
fsdf555 { dummy: 'dummy' } 0.22556466400717023
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.34070099842237145
fsdf555 { sentinel: 'sentinel' } 0.34070099842237145
1
fsdf { sentinel: 'sentinel' } pending 0.27208859413371056
fsdf555 { sentinel: 'sentinel' } 0.27208859413371056
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.11395676648423603
fsdf555 { sentinel: 'sentinel' } 0.11395676648423603
1
fsdf { sentinel: 'sentinel' } pending 0.18700845040141534
fsdf555 { sentinel: 'sentinel' } 0.18700845040141534
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.1850357393611073
fsdf555 { dummy: 'dummy' } 0.1850357393611073
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.11682511024743447
fsdf555 { sentinel: 'sentinel' } 0.11682511024743447
1
fsdf { sentinel: 'sentinel' } pending 0.46823825052888046
fsdf555 { sentinel: 'sentinel' } 0.46823825052888046
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5442067847625647
fsdf555 { dummy: 'dummy' } 0.5442067847625647
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.23494847387430817
fsdf555 { dummy: 'dummy' } 0.23494847387430817
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.07256570075089308
fsdf555 { dummy: 'dummy' } 0.07256570075089308
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5028419093031504
fsdf555 { dummy: 'dummy' } 0.5028419093031504
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.43035707162001446
fsdf555 { dummy: 'dummy' } 0.43035707162001446
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.1346041452470328
fsdf555 { dummy: 'dummy' } 0.1346041452470328
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9561172553329524
fsdf555 { dummy: 'dummy' } 0.9561172553329524
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5804887172418927
fsdf555 { dummy: 'dummy' } 0.5804887172418927
0
fuk
fuk
1
1
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.1474788049236171
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7855707864047308
fsdf555 { dummy: 'dummy' } 0.7855707864047308
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.5007847285971934
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.839131288106796
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6967539688283677
fsdf555 { dummy: 'dummy' } 0.6967539688283677
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.3982654291192633
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9984314801717578
fsdf555 { dummy: 'dummy' } 0.9984314801717578
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7138595878764433
fsdf555 { dummy: 'dummy' } 0.7138595878764433
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4586701258762371
fsdf555 { dummy: 'dummy' } 0.4586701258762371
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5164680833690221
fsdf555 { dummy: 'dummy' } 0.5164680833690221
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7983712202630144
fsdf555 { sentinel: 'sentinel' } 0.7983712202630144
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.49618004591217235
fsdf555 { dummy: 'dummy' } 0.49618004591217235
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4688477904625261
fsdf555 { sentinel: 'sentinel' } 0.4688477904625261
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5251829074613943
fsdf555 { sentinel: 'sentinel' } 0.5251829074613943
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.42466181767177913
fsdf555 { dummy: 'dummy' } 0.42466181767177913
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.29119757264689783
fsdf555 { sentinel: 'sentinel' } 0.29119757264689783
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7945197633664367
fsdf555 { sentinel: 'sentinel' } 0.7945197633664367
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8282851633315917
fsdf555 { dummy: 'dummy' } 0.8282851633315917
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.05967918410941486
fsdf555 { sentinel: 'sentinel' } 0.05967918410941486
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3791541896523323
fsdf555 { sentinel: 'sentinel' } 0.3791541896523323
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.36955580163575785
fsdf555 { dummy: 'dummy' } 0.36955580163575785
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9053645634649525
fsdf555 { sentinel: 'sentinel' } 0.9053645634649525
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.24167275150107992
fsdf555 { sentinel: 'sentinel' } 0.24167275150107992
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.575088021908748
fsdf555 { dummy: 'dummy' } 0.575088021908748
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.15702962076588545
fsdf555 { sentinel: 'sentinel' } 0.15702962076588545
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3577975746021327
fsdf555 { sentinel: 'sentinel' } 0.3577975746021327
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.34395628518607646
fsdf555 { dummy: 'dummy' } 0.34395628518607646
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.029702208038230316
fsdf555 { sentinel: 'sentinel' } 0.029702208038230316
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.858996286742657
fsdf555 { sentinel: 'sentinel' } 0.858996286742657
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8560729337462274
fsdf555 { dummy: 'dummy' } 0.8560729337462274
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6442760516643855
fsdf555 { sentinel: 'sentinel' } 0.6442760516643855
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7510287230829467
fsdf555 { sentinel: 'sentinel' } 0.7510287230829467
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7436298775784926
fsdf555 { dummy: 'dummy' } 0.7436298775784926
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6865224716005032
fsdf555 { sentinel: 'sentinel' } 0.6865224716005032
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9000349392641163
fsdf555 { sentinel: 'sentinel' } 0.9000349392641163
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6784679147491999
fsdf555 { dummy: 'dummy' } 0.6784679147491999
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.37673591380827265
fsdf555 { sentinel: 'sentinel' } 0.37673591380827265
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.23117631961595486
fsdf555 { sentinel: 'sentinel' } 0.23117631961595486
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.17353806465100874
fsdf555 { dummy: 'dummy' } 0.17353806465100874
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6337443986986224
fsdf555 { sentinel: 'sentinel' } 0.6337443986986224
1
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6870407036161268
fsdf555 { sentinel: 'sentinel' } 0.6870407036161268
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.03738639066169536
fsdf555 { sentinel: 'sentinel' } 0.03738639066169536
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5510723122502785
fsdf555 { dummy: 'dummy' } 0.5510723122502785
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8368743806202801
fsdf555 { sentinel: 'sentinel' } 0.8368743806202801
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5940037577476938
fsdf555 { sentinel: 'sentinel' } 0.5940037577476938
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.28731270956166677
fsdf555 { sentinel: 'sentinel' } 0.28731270956166677
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2621031937500802
fsdf555 { sentinel: 'sentinel' } 0.2621031937500802
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5508560908198363
fsdf555 { dummy: 'dummy' } 0.5508560908198363
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.22431832135418617
fsdf555 { sentinel: 'sentinel' } 0.22431832135418617
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4349499837153623
fsdf555 { sentinel: 'sentinel' } 0.4349499837153623
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.12428159569014818
fsdf555 { sentinel: 'sentinel' } 0.12428159569014818
1
fsdf { sentinel: 'sentinel' } pending 0.8812150418709719
fsdf555 { sentinel: 'sentinel' } 0.8812150418709719
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.13299545936384427
fsdf555 { dummy: 'dummy' } 0.13299545936384427
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.040132844047372496
fsdf555 { sentinel: 'sentinel' } 0.040132844047372496
1
fsdf { sentinel: 'sentinel' } pending 0.4659367279155222
fsdf555 { sentinel: 'sentinel' } 0.4659367279155222
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.589029234620857
fsdf555 { sentinel: 'sentinel' } 0.589029234620857
1
fsdf { sentinel: 'sentinel' } pending 0.5056273143126169
fsdf555 { sentinel: 'sentinel' } 0.5056273143126169
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8432505387680171
fsdf555 { dummy: 'dummy' } 0.8432505387680171
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7433324464288995
fsdf555 { sentinel: 'sentinel' } 0.7433324464288995
1
fsdf { sentinel: 'sentinel' } pending 0.38868281356177503
fsdf555 { sentinel: 'sentinel' } 0.38868281356177503
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.9200019320422534
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.40180674820111784
fsdf555 { dummy: 'dummy' } 0.40180674820111784
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.8806128834846598
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.7990916668768697
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.26734833119560686
fsdf555 { dummy: 'dummy' } 0.26734833119560686
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.7478145558594447
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.7255737712755244
fsdf555 { other: 'other' } 0.7255737712755244
1
fsdf { other: 'other' } pending 0.8723686542549189
fsdf555 { other: 'other' } 0.8723686542549189
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.11319094621030268
fsdf555 { dummy: 'dummy' } 0.11319094621030268
0
fuk
fuk
1
fsdf { other: 'other' } pending 0.6253694760122153
fsdf555 { other: 'other' } 0.6253694760122153
1
fsdf { other: 'other' } pending 0.4409060237181559
fsdf555 { other: 'other' } 0.4409060237181559
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.19193992714454167
fsdf555 { other: 'other' } 0.19193992714454167
1
fsdf { other: 'other' } pending 0.45739254877896696
fsdf555 { other: 'other' } 0.45739254877896696
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.4733578251189985
fsdf555 { dummy: 'dummy' } 0.4733578251189985
0
fuk
fuk
1
fsdf { other: 'other' } pending 0.33094124147238335
fsdf555 { other: 'other' } 0.33094124147238335
1
fsdf { other: 'other' } pending 0.1737884291944316
fsdf555 { other: 'other' } 0.1737884291944316
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.10557598029281623
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7196140558853288
fsdf555 { dummy: 'dummy' } 0.7196140558853288
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.28489809205752836
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.5217165272442192
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6945559484429693
fsdf555 { dummy: 'dummy' } 0.6945559484429693
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.8808889323441289
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.28113202776565793
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5700887400132875
fsdf555 { dummy: 'dummy' } 0.5700887400132875
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.627277620360533
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.9510975227673046
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8672142905983269
fsdf555 { dummy: 'dummy' } 0.8672142905983269
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.6223125236208029
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.1090956642500025
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.1090956642500025
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.05577976601011536
fsdf555 { dummy: 'dummy' } 0.05577976601011536
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.770939742136153
fsdf { other: 'other' } fulfilled 0.770939742136153
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.5906389575952948
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } fulfilled 0.5906389575952948
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.18847956359878237
fsdf555 { dummy: 'dummy' } 0.18847956359878237
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.5730530215811627
fsdf { other: 'other' } fulfilled 0.5730530215811627
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.49342921214362234
fsdf555 { other: 'other' } 0.49342921214362234
1
fsdf { other: 'other' } pending 0.5324615983520788
fsdf555 { other: 'other' } 0.5324615983520788
0
1
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.1757820329962072
fsdf555 { dummy: 'dummy' } 0.1757820329962072
0
fuk
fuk
1
0
fuk
fsdf { other: 'other' } pending 0.8853564213383809
fsdf555 { other: 'other' } 0.8853564213383809
1
fsdf { other: 'other' } pending 0.2132862774873332
fsdf555 { other: 'other' } 0.2132862774873332
0
1
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.7275592994531663
fsdf555 { other: 'other' } 0.7275592994531663
1
fsdf { other: 'other' } pending 0.6655026115532667
fsdf555 { other: 'other' } 0.6655026115532667
0
1
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.09027625393398697
fsdf555 { dummy: 'dummy' } 0.09027625393398697
0
fuk
fuk
1
0
fuk
fsdf { other: 'other' } pending 0.4046051854127619
fsdf555 { other: 'other' } 0.4046051854127619
1
fsdf { other: 'other' } pending 0.7087853876776182
fsdf555 { other: 'other' } 0.7087853876776182
0
1
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.38070685531455606
fsdf555 { other: 'other' } 0.38070685531455606
1
fsdf { other: 'other' } pending 0.24259153386150123
fsdf555 { other: 'other' } 0.24259153386150123
0
1
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.6013728466557577
fsdf555 { dummy: 'dummy' } 0.6013728466557577
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.8124906322498417
fsdf555 { other: 'other' } 0.8124906322498417
1
fsdf { other: 'other' } pending 0.24308042610641012
fsdf555 { other: 'other' } 0.24308042610641012
0
1
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.05817661094617055
fsdf555 { other: 'other' } 0.05817661094617055
1
fsdf { other: 'other' } pending 0.15359649307043144
fsdf555 { other: 'other' } 0.15359649307043144
0
1
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.3157476253414022
fsdf555 { dummy: 'dummy' } 0.3157476253414022
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.3631279103197551
fsdf555 { other: 'other' } 0.3631279103197551
1
fsdf { other: 'other' } pending 0.11500252099709019
fsdf555 { other: 'other' } 0.11500252099709019
0
1
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.506878988030079
fsdf555 { sentinel: 'sentinel' } 0.506878988030079
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.506878988030079
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8263458915612234
fsdf555 { dummy: 'dummy' } 0.8263458915612234
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4642957703451016
fsdf555 { sentinel: 'sentinel' } 0.4642957703451016
1
fsdf { other: 'other' } rejected 0.4642957703451016
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5417425274192422
fsdf555 { sentinel: 'sentinel' } 0.5417425274192422
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.5417425274192422
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3160187512919368
fsdf555 { dummy: 'dummy' } 0.3160187512919368
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3159045831645195
fsdf555 { sentinel: 'sentinel' } 0.3159045831645195
1
fsdf { other: 'other' } rejected 0.3159045831645195
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.6938469327349586
fsdf555 { other: 'other' } 0.6938469327349586
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.21350349924545853
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.21350349924545853
0
fsdf { sentinel: 'sentinel' } rejected 0.6938469327349586
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.8077488290131962
fsdf555 { dummy: 'dummy' } 0.8077488290131962
0
fuk
fuk
1
fsdf { other: 'other' } pending 0.2939791321455347
fsdf555 { other: 'other' } 0.2939791321455347
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.7085819472257899
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.7085819472257899
0
fsdf { sentinel: 'sentinel' } rejected 0.2939791321455347
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.21529200098147006
fsdf555 { other: 'other' } 0.21529200098147006
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.9325355777844155
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.9325355777844155
0
fsdf { sentinel: 'sentinel' } rejected 0.21529200098147006
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.7090482023259348
fsdf555 { dummy: 'dummy' } 0.7090482023259348
0
fuk
fuk
1
fsdf { other: 'other' } pending 0.8547273287291313
fsdf555 { other: 'other' } 0.8547273287291313
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.8193020517768956
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.8193020517768956
0
fsdf { sentinel: 'sentinel' } rejected 0.8547273287291313
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.14486334520036692
fsdf555 { sentinel: 'sentinel' } 0.14486334520036692
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.14486334520036692
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.03454451425942473
fsdf555 { dummy: 'dummy' } 0.03454451425942473
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7410609699508148
fsdf555 { sentinel: 'sentinel' } 0.7410609699508148
1
fsdf { other: 'other' } rejected 0.7410609699508148
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4771351749019004
fsdf555 { sentinel: 'sentinel' } 0.4771351749019004
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.4771351749019004
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8585675111703583
fsdf555 { dummy: 'dummy' } 0.8585675111703583
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5966213533697202
fsdf555 { sentinel: 'sentinel' } 0.5966213533697202
1
fsdf { other: 'other' } rejected 0.5966213533697202
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.33050905758270277
fsdf555 { sentinel: 'sentinel' } 0.33050905758270277
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.33050905758270277
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.14708344060102907
fsdf555 { dummy: 'dummy' } 0.14708344060102907
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9763405318233702
fsdf555 { sentinel: 'sentinel' } 0.9763405318233702
1
fsdf { other: 'other' } rejected 0.9763405318233702
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4990045521494062
fsdf555 { sentinel: 'sentinel' } 0.4990045521494062
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.4990045521494062
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3164169324482988
fsdf555 { dummy: 'dummy' } 0.3164169324482988
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.359014835304593
fsdf555 { sentinel: 'sentinel' } 0.359014835304593
1
fsdf { other: 'other' } rejected 0.359014835304593
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9493103580201534
fsdf555 { sentinel: 'sentinel' } 0.9493103580201534
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.9493103580201534
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.16671683928794234
fsdf555 { dummy: 'dummy' } 0.16671683928794234
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.59455446760199
fsdf555 { sentinel: 'sentinel' } 0.59455446760199
1
fsdf { other: 'other' } rejected 0.59455446760199
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.07812243011489706
fsdf555 { sentinel: 'sentinel' } 0.07812243011489706
1
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } rejected 0.07812243011489706
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.27820228159062377
fsdf555 { dummy: 'dummy' } 0.27820228159062377
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8656325549395445
fsdf555 { sentinel: 'sentinel' } 0.8656325549395445
1
fsdf { other: 'other' } rejected 0.8656325549395445
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8307512495401472
fsdf555 { sentinel: 'sentinel' } 0.8307512495401472
0
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.10301507381862707
fsdf555 { other: 'other' } 0.10301507381862707
1
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.3633178524658014
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.3633178524658014
0
fsdf { sentinel: 'sentinel' } rejected 0.10301507381862707
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.936979164430799
fsdf555 { dummy: 'dummy' } 0.936979164430799
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.261373864211889
fsdf555 { sentinel: 'sentinel' } 0.261373864211889
0
fuk
fsdf { other: 'other' } pending 0.06117250823581677
fsdf555 { other: 'other' } 0.06117250823581677
1
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.6803120739573605
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.6803120739573605
0
fsdf { sentinel: 'sentinel' } rejected 0.06117250823581677
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3836982965229849
fsdf555 { sentinel: 'sentinel' } 0.3836982965229849
0
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.9097253428697496
fsdf555 { other: 'other' } 0.9097253428697496
1
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.07552890227462128
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.07552890227462128
0
fsdf { sentinel: 'sentinel' } rejected 0.9097253428697496
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.5461567708673591
fsdf555 { dummy: 'dummy' } 0.5461567708673591
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4257397236280369
fsdf555 { sentinel: 'sentinel' } 0.4257397236280369
0
fuk
fsdf { other: 'other' } pending 0.550615878942974
fsdf555 { other: 'other' } 0.550615878942974
1
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.2764224203144494
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.2764224203144494
0
fsdf { sentinel: 'sentinel' } rejected 0.550615878942974
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.21126703593960983
fsdf555 { other: 'other' } 0.21126703593960983
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.4785720501671118
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.4785720501671118
0
fsdf { sentinel: 'sentinel' } pending 0.8628566937734476
fsdf555 { sentinel: 'sentinel' } 0.8628566937734476
1
fsdf { sentinel: 'sentinel' } rejected 0.21126703593960983
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.8580782027719709
fsdf555 { dummy: 'dummy' } 0.8580782027719709
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.0673259948091336
fsdf555 { other: 'other' } 0.0673259948091336
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.4227822603067295
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.4227822603067295
0
fsdf { sentinel: 'sentinel' } pending 0.2537068417111883
fsdf555 { sentinel: 'sentinel' } 0.2537068417111883
1
fsdf { sentinel: 'sentinel' } rejected 0.0673259948091336
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
45adfg3453453 { other: 'other' }
fsdf { other: 'other' } pending 0.8215973333936661
fsdf555 { other: 'other' } 0.8215973333936661
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.7125347968387137
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.7125347968387137
0
fsdf { sentinel: 'sentinel' } pending 0.49995972018578416
fsdf555 { sentinel: 'sentinel' } 0.49995972018578416
1
fsdf { sentinel: 'sentinel' } rejected 0.8215973333936661
0
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.17677122422133462
fsdf555 { dummy: 'dummy' } 0.17677122422133462
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.48922425680848014
fsdf555 { other: 'other' } 0.48922425680848014
1
aaaaaaaa { other: 'other' } { sentinel: 'sentinel' }
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.2008216842442101
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:110:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.2008216842442101
0
fsdf { sentinel: 'sentinel' } pending 0.7600675284760425
fsdf555 { sentinel: 'sentinel' } 0.7600675284760425
1
fsdf { sentinel: 'sentinel' } rejected 0.48922425680848014
0
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2939226721627275
fsdf555 { dummy: 'dummy' } 0.2939226721627275
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3637831806193337
fsdf555 { dummy: 'dummy' } 0.3637831806193337
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.32887092162325926
fsdf555 { dummy: 'dummy' } 0.32887092162325926
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9986860865452383
fsdf555 { dummy: 'dummy' } 0.9986860865452383
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6863047802371012
fsdf555 { dummy: 'dummy' } 0.6863047802371012
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7884779628881782
fsdf555 { dummy: 'dummy' } 0.7884779628881782
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3276031697822561
fsdf555 { dummy: 'dummy' } 0.3276031697822561
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6382764081830476
fsdf555 { dummy: 'dummy' } 0.6382764081830476
0
fuk
fuk
1
0
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fsdf { other: 'other' } fulfilled 0.3214249375839522
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3688917344820364
fsdf555 { dummy: 'dummy' } 0.3688917344820364
0
fuk
fuk
1
0
fsdf { other: 'other' } fulfilled 0.33016149486403745
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fsdf { other: 'other' } fulfilled 0.711960993320498
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6587263898304421
fsdf555 { dummy: 'dummy' } 0.6587263898304421
0
fuk
fuk
1
0
fsdf { other: 'other' } fulfilled 0.9601991143208188
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.11621686608871751
fsdf555 { dummy: 'dummy' } 0.11621686608871751
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6035472101626431
fsdf555 { dummy: 'dummy' } 0.6035472101626431
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7478129868220351
fsdf555 { dummy: 'dummy' } 0.7478129868220351
0
fuk
fuk
1
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4895459182430397
fsdf555 { dummy: 'dummy' } 0.4895459182430397
0
fuk
fuk
1
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7110484829056534
fsdf555 { sentinel: 'sentinel' } 0.7110484829056534
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9255058883274991
fsdf555 { sentinel: 'sentinel' } 0.9255058883274991
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8914291264041156
fsdf555 { dummy: 'dummy' } 0.8914291264041156
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7074689256454321
fsdf555 { sentinel: 'sentinel' } 0.7074689256454321
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.34240929870166315
fsdf555 { sentinel: 'sentinel' } 0.34240929870166315
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.010298013224326885
fsdf555 { sentinel: 'sentinel' } 0.010298013224326885
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.04015553112735959
fsdf555 { sentinel: 'sentinel' } 0.04015553112735959
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4630309575881584
fsdf555 { dummy: 'dummy' } 0.4630309575881584
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7023330627825981
fsdf555 { sentinel: 'sentinel' } 0.7023330627825981
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.08411409279948479
fsdf555 { sentinel: 'sentinel' } 0.08411409279948479
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.6158000407560602
fsdf555 { sentinel: 'sentinel' } 0.6158000407560602
1
fsdf { sentinel: 'sentinel' } pending 0.8398679123887263
fsdf555 { sentinel: 'sentinel' } 0.8398679123887263
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.22751390773420366
fsdf555 { dummy: 'dummy' } 0.22751390773420366
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.884549190444949
fsdf555 { sentinel: 'sentinel' } 0.884549190444949
1
fsdf { sentinel: 'sentinel' } pending 0.8269540903188735
fsdf555 { sentinel: 'sentinel' } 0.8269540903188735
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9642116758323791
fsdf555 { sentinel: 'sentinel' } 0.9642116758323791
1
fsdf { sentinel: 'sentinel' } pending 0.4189061343347906
fsdf555 { sentinel: 'sentinel' } 0.4189061343347906
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.07162328381176941
fsdf555 { dummy: 'dummy' } 0.07162328381176941
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.31464255055643253
fsdf555 { sentinel: 'sentinel' } 0.31464255055643253
1
fsdf { sentinel: 'sentinel' } pending 0.45397533670642654
fsdf555 { sentinel: 'sentinel' } 0.45397533670642654
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.44086373947927004
fsdf555 { sentinel: 'sentinel' } 0.44086373947927004
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9031249956788421
fsdf555 { sentinel: 'sentinel' } 0.9031249956788421
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7083127053218223
fsdf555 { dummy: 'dummy' } 0.7083127053218223
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8413279716380984
fsdf555 { sentinel: 'sentinel' } 0.8413279716380984
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2860812664619572
fsdf555 { sentinel: 'sentinel' } 0.2860812664619572
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3645840085555796
fsdf555 { sentinel: 'sentinel' } 0.3645840085555796
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.40501798835511016
fsdf555 { sentinel: 'sentinel' } 0.40501798835511016
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.37234369273234846
fsdf555 { dummy: 'dummy' } 0.37234369273234846
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.84676819198012
fsdf555 { sentinel: 'sentinel' } 0.84676819198012
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9710144858493437
fsdf555 { sentinel: 'sentinel' } 0.9710144858493437
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6905799613534345
fsdf555 { sentinel: 'sentinel' } 0.6905799613534345
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4860672904664525
fsdf555 { sentinel: 'sentinel' } 0.4860672904664525
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4741122480243989
fsdf555 { dummy: 'dummy' } 0.4741122480243989
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9225603461369725
fsdf555 { sentinel: 'sentinel' } 0.9225603461369725
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.31916417673334907
fsdf555 { sentinel: 'sentinel' } 0.31916417673334907
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9467696651140094
fsdf555 { sentinel: 'sentinel' } 0.9467696651140094
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7976919180578872
fsdf555 { sentinel: 'sentinel' } 0.7976919180578872
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8805256541981603
fsdf555 { dummy: 'dummy' } 0.8805256541981603
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6278003384171753
fsdf555 { sentinel: 'sentinel' } 0.6278003384171753
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.46254271923616863
fsdf555 { sentinel: 'sentinel' } 0.46254271923616863
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8586229042918789
fsdf555 { sentinel: 'sentinel' } 0.8586229042918789
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8630065236441018
fsdf555 { sentinel: 'sentinel' } 0.8630065236441018
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5155274605560649
fsdf555 { dummy: 'dummy' } 0.5155274605560649
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.12359403526360802
fsdf555 { sentinel: 'sentinel' } 0.12359403526360802
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.11896741488023777
fsdf555 { sentinel: 'sentinel' } 0.11896741488023777
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9959540675000966
fsdf555 { sentinel: 'sentinel' } 0.9959540675000966
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.19786909283082665
fsdf555 { sentinel: 'sentinel' } 0.19786909283082665
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8461170158890896
fsdf555 { dummy: 'dummy' } 0.8461170158890896
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8936565246686448
fsdf555 { sentinel: 'sentinel' } 0.8936565246686448
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3285153345310097
fsdf555 { sentinel: 'sentinel' } 0.3285153345310097
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5142089359637083
fsdf555 { sentinel: 'sentinel' } 0.5142089359637083
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.4011922843475111
fsdf555 { sentinel: 'sentinel' } 0.4011922843475111
1
0
fsdf { sentinel: 'sentinel' } pending 0.5986442303294177
fsdf555 { sentinel: 'sentinel' } 0.5986442303294177
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7131280291618818
fsdf555 { dummy: 'dummy' } 0.7131280291618818
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.813692322580279
fsdf555 { sentinel: 'sentinel' } 0.813692322580279
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.14531501716816275
fsdf555 { sentinel: 'sentinel' } 0.14531501716816275
1
0
fsdf { sentinel: 'sentinel' } pending 0.49659619884573636
fsdf555 { sentinel: 'sentinel' } 0.49659619884573636
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9035428753181518
fsdf555 { sentinel: 'sentinel' } 0.9035428753181518
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.3054850058741476
fsdf555 { sentinel: 'sentinel' } 0.3054850058741476
1
0
fsdf { sentinel: 'sentinel' } pending 0.27694349156901743
fsdf555 { sentinel: 'sentinel' } 0.27694349156901743
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.31068665990198885
fsdf555 { dummy: 'dummy' } 0.31068665990198885
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.73486557760936
fsdf555 { sentinel: 'sentinel' } 0.73486557760936
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.26797499618922993
fsdf555 { sentinel: 'sentinel' } 0.26797499618922993
1
0
fsdf { sentinel: 'sentinel' } pending 0.20942752116063823
fsdf555 { sentinel: 'sentinel' } 0.20942752116063823
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fuk
fsdf { sentinel: 'sentinel' } pending 0.356248900074724
fsdf555 { sentinel: 'sentinel' } 0.356248900074724
1
fsdf { sentinel: 'sentinel' } pending 0.7715316099089844
fsdf555 { sentinel: 'sentinel' } 0.7715316099089844
1
0
fsdf { sentinel: 'sentinel' } pending 0.6492611785688616
fsdf555 { sentinel: 'sentinel' } 0.6492611785688616
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.17237072247888086
fsdf555 { dummy: 'dummy' } 0.17237072247888086
0
fuk
fuk
1
fuk
fuk
fsdf { sentinel: 'sentinel' } pending 0.5730705289472473
fsdf555 { sentinel: 'sentinel' } 0.5730705289472473
1
fsdf { sentinel: 'sentinel' } pending 0.28801360003883647
fsdf555 { sentinel: 'sentinel' } 0.28801360003883647
1
0
fsdf { sentinel: 'sentinel' } pending 0.4993822547727891
fsdf555 { sentinel: 'sentinel' } 0.4993822547727891
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fuk
fsdf { sentinel: 'sentinel' } pending 0.4155528138945459
fsdf555 { sentinel: 'sentinel' } 0.4155528138945459
1
fsdf { sentinel: 'sentinel' } pending 0.16306622233881374
fsdf555 { sentinel: 'sentinel' } 0.16306622233881374
1
0
fsdf { sentinel: 'sentinel' } pending 0.12117010126604022
fsdf555 { sentinel: 'sentinel' } 0.12117010126604022
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6806493579424802
fsdf555 { dummy: 'dummy' } 0.6806493579424802
0
fuk
fuk
1
fuk
fuk
fsdf { sentinel: 'sentinel' } pending 0.9788697340314565
fsdf555 { sentinel: 'sentinel' } 0.9788697340314565
1
fsdf { sentinel: 'sentinel' } pending 0.24999071881210888
fsdf555 { sentinel: 'sentinel' } 0.24999071881210888
1
0
fsdf { sentinel: 'sentinel' } pending 0.37660392008452215
fsdf555 { sentinel: 'sentinel' } 0.37660392008452215
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4542375849739668
fsdf555 { dummy: 'dummy' } 0.4542375849739668
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.34335233503473095
fsdf555 { dummy: 'dummy' } 0.34335233503473095
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.13093795377866924
fsdf555 { dummy: 'dummy' } 0.13093795377866924
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.14127150060194404
fsdf555 { dummy: 'dummy' } 0.14127150060194404
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.756309123804733
fsdf555 { dummy: 'dummy' } 0.756309123804733
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9856779765083687
fsdf555 { dummy: 'dummy' } 0.9856779765083687
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6212831623551156
fsdf555 { dummy: 'dummy' } 0.6212831623551156
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5975307059529067
fsdf555 { dummy: 'dummy' } 0.5975307059529067
0
fuk
fuk
1
fuk
1
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
fsdf { other: 'other' } fulfilled 0.20147683636539382
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8003517676760201
fsdf555 { dummy: 'dummy' } 0.8003517676760201
0
fuk
fuk
1
fuk
1
fsdf { other: 'other' } fulfilled 0.5998641387377972
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
1
fsdf { other: 'other' } fulfilled 0.10279725692066966
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6171456658367998
fsdf555 { dummy: 'dummy' } 0.6171456658367998
0
fuk
fuk
1
fuk
1
fsdf { other: 'other' } fulfilled 0.19244033107928216
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.33027402134271044
fsdf555 { dummy: 'dummy' } 0.33027402134271044
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7989056622919
fsdf555 { dummy: 'dummy' } 0.7989056622919
0
fuk
fuk
1
0
fuk
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
0
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9129489552616263
fsdf555 { dummy: 'dummy' } 0.9129489552616263
0
fuk
fuk
1
fuk
0
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
0
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5161507028988392
fsdf555 { dummy: 'dummy' } 0.5161507028988392
0
fuk
fuk
1
fuk
0
fuk
1
1
0
1
0
dbdbdbd { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.8942760689841185
fsdf555 { sentinel: 'sentinel' } 0.8942760689841185
1
fsdf { sentinel: 'sentinel' } pending 0.7865687958161451
fsdf555 { sentinel: 'sentinel' } 0.7865687958161451
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5479069686021671
fsdf555 { dummy: 'dummy' } 0.5479069686021671
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7947477138983756
fsdf555 { sentinel: 'sentinel' } 0.7947477138983756
1
fsdf { sentinel: 'sentinel' } pending 0.2948630341008769
fsdf555 { sentinel: 'sentinel' } 0.2948630341008769
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7044377930448675
fsdf555 { sentinel: 'sentinel' } 0.7044377930448675
1
fsdf { sentinel: 'sentinel' } pending 0.39581736156106295
fsdf555 { sentinel: 'sentinel' } 0.39581736156106295
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.22229365291754122
fsdf555 { dummy: 'dummy' } 0.22229365291754122
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.2371905606859459
fsdf555 { sentinel: 'sentinel' } 0.2371905606859459
1
fsdf { sentinel: 'sentinel' } pending 0.4643256153096156
fsdf555 { sentinel: 'sentinel' } 0.4643256153096156
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.2611492229586656
fsdf555 { sentinel: 'sentinel' } 0.2611492229586656
1
fsdf { sentinel: 'sentinel' } pending 0.9129388109230951
fsdf555 { sentinel: 'sentinel' } 0.9129388109230951
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.08569900334665914
fsdf555 { dummy: 'dummy' } 0.08569900334665914
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.44073880387385156
fsdf555 { sentinel: 'sentinel' } 0.44073880387385156
1
fsdf { sentinel: 'sentinel' } pending 0.4222109870074193
fsdf555 { sentinel: 'sentinel' } 0.4222109870074193
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7782028892336561
fsdf555 { sentinel: 'sentinel' } 0.7782028892336561
1
fsdf { sentinel: 'sentinel' } pending 0.7509463691527842
fsdf555 { sentinel: 'sentinel' } 0.7509463691527842
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6208497665375925
fsdf555 { dummy: 'dummy' } 0.6208497665375925
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.6432528835952136
fsdf555 { sentinel: 'sentinel' } 0.6432528835952136
1
fsdf { sentinel: 'sentinel' } pending 0.5496182562977021
fsdf555 { sentinel: 'sentinel' } 0.5496182562977021
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.19437326010393097
fsdf555 { sentinel: 'sentinel' } 0.19437326010393097
1
fsdf { sentinel: 'sentinel' } pending 0.6081783869336859
fsdf555 { sentinel: 'sentinel' } 0.6081783869336859
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6376908360663887
fsdf555 { dummy: 'dummy' } 0.6376908360663887
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.4275242186034276
fsdf555 { sentinel: 'sentinel' } 0.4275242186034276
1
fsdf { sentinel: 'sentinel' } pending 0.6286332475769445
fsdf555 { sentinel: 'sentinel' } 0.6286332475769445
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.8333093302820969
fsdf555 { sentinel: 'sentinel' } 0.8333093302820969
1
fsdf { sentinel: 'sentinel' } pending 0.8083831781904924
fsdf555 { sentinel: 'sentinel' } 0.8083831781904924
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.2579114815942003
fsdf555 { dummy: 'dummy' } 0.2579114815942003
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.586975087944712
fsdf555 { sentinel: 'sentinel' } 0.586975087944712
1
fsdf { sentinel: 'sentinel' } pending 0.2933977614547245
fsdf555 { sentinel: 'sentinel' } 0.2933977614547245
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7465106403954767
fsdf555 { sentinel: 'sentinel' } 0.7465106403954767
1
fsdf { sentinel: 'sentinel' } pending 0.34293567820824733
fsdf555 { sentinel: 'sentinel' } 0.34293567820824733
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5496026097310109
fsdf555 { dummy: 'dummy' } 0.5496026097310109
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9412248276724731
fsdf555 { sentinel: 'sentinel' } 0.9412248276724731
1
fsdf { sentinel: 'sentinel' } pending 0.667451000101196
fsdf555 { sentinel: 'sentinel' } 0.667451000101196
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9450522273091329
fsdf555 { sentinel: 'sentinel' } 0.9450522273091329
1
fsdf { sentinel: 'sentinel' } pending 0.6775642002765558
fsdf555 { sentinel: 'sentinel' } 0.6775642002765558
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7580755730598163
fsdf555 { dummy: 'dummy' } 0.7580755730598163
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.11282598096222096
fsdf555 { sentinel: 'sentinel' } 0.11282598096222096
1
fsdf { sentinel: 'sentinel' } pending 0.08513381576199386
fsdf555 { sentinel: 'sentinel' } 0.08513381576199386
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.8595903768982827
fsdf555 { sentinel: 'sentinel' } 0.8595903768982827
1
fsdf { sentinel: 'sentinel' } pending 0.45246955140431977
fsdf555 { sentinel: 'sentinel' } 0.45246955140431977
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7597799723168885
fsdf555 { dummy: 'dummy' } 0.7597799723168885
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7836057843672866
fsdf555 { sentinel: 'sentinel' } 0.7836057843672866
1
fsdf { sentinel: 'sentinel' } pending 0.7810952048124442
fsdf555 { sentinel: 'sentinel' } 0.7810952048124442
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.19917273839851846
fsdf555 { sentinel: 'sentinel' } 0.19917273839851846
1
fsdf { sentinel: 'sentinel' } pending 0.18750210582556237
fsdf555 { sentinel: 'sentinel' } 0.18750210582556237
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.39763183028124605
fsdf555 { dummy: 'dummy' } 0.39763183028124605
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9851214896570037
fsdf555 { sentinel: 'sentinel' } 0.9851214896570037
1
fsdf { sentinel: 'sentinel' } pending 0.32109366996869504
fsdf555 { sentinel: 'sentinel' } 0.32109366996869504
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.673723795812208
fsdf555 { sentinel: 'sentinel' } 0.673723795812208
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.2581647041823718
fsdf555 { sentinel: 'sentinel' } 0.2581647041823718
1
0
fsdf { sentinel: 'sentinel' } pending 0.06411460019379489
fsdf555 { sentinel: 'sentinel' } 0.06411460019379489
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.38903539457502645
fsdf555 { dummy: 'dummy' } 0.38903539457502645
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9545270240828436
fsdf555 { sentinel: 'sentinel' } 0.9545270240828436
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7113472882882221
fsdf555 { sentinel: 'sentinel' } 0.7113472882882221
1
0
fsdf { sentinel: 'sentinel' } pending 0.2361693266229432
fsdf555 { sentinel: 'sentinel' } 0.2361693266229432
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.16703904357734745
fsdf555 { sentinel: 'sentinel' } 0.16703904357734745
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6366948936936314
fsdf555 { sentinel: 'sentinel' } 0.6366948936936314
1
0
fsdf { sentinel: 'sentinel' } pending 0.2995346015087972
fsdf555 { sentinel: 'sentinel' } 0.2995346015087972
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5565575152992894
fsdf555 { dummy: 'dummy' } 0.5565575152992894
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.768277278104901
fsdf555 { sentinel: 'sentinel' } 0.768277278104901
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5537684104771425
fsdf555 { sentinel: 'sentinel' } 0.5537684104771425
1
0
fsdf { sentinel: 'sentinel' } pending 0.4701079517672284
fsdf555 { sentinel: 'sentinel' } 0.4701079517672284
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.4186285079459062
fsdf555 { sentinel: 'sentinel' } 0.4186285079459062
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.38716308922853115
fsdf555 { sentinel: 'sentinel' } 0.38716308922853115
1
0
fsdf { sentinel: 'sentinel' } pending 0.45022097837511144
fsdf555 { sentinel: 'sentinel' } 0.45022097837511144
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3115173594175449
fsdf555 { dummy: 'dummy' } 0.3115173594175449
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9124367809284197
fsdf555 { sentinel: 'sentinel' } 0.9124367809284197
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7201006567477302
fsdf555 { sentinel: 'sentinel' } 0.7201006567477302
1
0
fsdf { sentinel: 'sentinel' } pending 0.8906177637442385
fsdf555 { sentinel: 'sentinel' } 0.8906177637442385
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9125572491619633
fsdf555 { sentinel: 'sentinel' } 0.9125572491619633
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6272523483569534
fsdf555 { sentinel: 'sentinel' } 0.6272523483569534
1
0
fsdf { sentinel: 'sentinel' } pending 0.7330318720306934
fsdf555 { sentinel: 'sentinel' } 0.7330318720306934
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.26390891457360355
fsdf555 { dummy: 'dummy' } 0.26390891457360355
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7879379641638935
fsdf555 { sentinel: 'sentinel' } 0.7879379641638935
0
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9102955548401603
fsdf555 { sentinel: 'sentinel' } 0.9102955548401603
1
0
fsdf { sentinel: 'sentinel' } pending 0.8065611067245411
fsdf555 { sentinel: 'sentinel' } 0.8065611067245411
1
0
aaaaaaaa { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                              </dl>
                            </section>
                          </dl>
                        </section>
                      </dl>
                    </section>
                  </dl>
                </section>
                <section class="suite">
                  <h1>2.3.3.3.2: If/when &#x60;rejectPromise&#x60; is called with reason &#x60;r&#x60;, reject &#x60;promise&#x60; with &#x60;r&#x60;</h1>
                  <dl>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;undefined&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf undefined pending 0.7204832969862809
fsdf555 undefined 0.7204832969862809
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4503052544361432
fsdf555 { dummy: 'dummy' } 0.4503052544361432
0
fuk
fuk
1
fsdf undefined pending 0.5380832493769183
fsdf555 undefined 0.5380832493769183
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf undefined pending 0.2952163980717677
fsdf555 undefined 0.2952163980717677
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.8090078551328175
fsdf555 { dummy: 'dummy' } 0.8090078551328175
0
fuk
fuk
1
fsdf undefined pending 0.8084537095374913
fsdf555 undefined 0.8084537095374913
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;null&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf null pending 0.516456584917641
fsdf555 null 0.516456584917641
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.35440886335581756
fsdf555 { dummy: 'dummy' } 0.35440886335581756
0
fuk
fuk
1
fsdf null pending 0.8682971432533868
fsdf555 null 0.8682971432533868
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf null pending 0.5211499816962328
fsdf555 null 0.5211499816962328
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.414201331754652
fsdf555 { dummy: 'dummy' } 0.414201331754652
0
fuk
fuk
1
fsdf null pending 0.5135012403824741
fsdf555 null 0.5135012403824741
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;false&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf false pending 0.5542087914335747
fsdf555 false 0.5542087914335747
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.22066740420419828
fsdf555 { dummy: 'dummy' } 0.22066740420419828
0
fuk
fuk
1
fsdf false pending 0.8898792509045197
fsdf555 false 0.8898792509045197
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf false pending 0.3368294522611308
fsdf555 false 0.3368294522611308
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7607670221826306
fsdf555 { dummy: 'dummy' } 0.7607670221826306
0
fuk
fuk
1
fsdf false pending 0.0498176882571042
fsdf555 false 0.0498176882571042
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;0&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf 0 pending 0.46287359481393686
fsdf555 0 0.46287359481393686
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.1119902803127637
fsdf555 { dummy: 'dummy' } 0.1119902803127637
0
fuk
fuk
1
fsdf 0 pending 0.06706320162852286
fsdf555 0 0.06706320162852286
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf 0 pending 0.3845033745956452
fsdf555 0 0.3845033745956452
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.29106407585185967
fsdf555 { dummy: 'dummy' } 0.29106407585185967
0
fuk
fuk
1
fsdf 0 pending 0.2190655717042016
fsdf555 0 0.2190655717042016
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an error</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) pending 0.8443298546657838
fsdf555 Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) 0.8443298546657838
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.0016183962364000326
fsdf555 { dummy: 'dummy' } 0.0016183962364000326
0
fuk
fuk
1
fsdf Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) pending 0.5805460642093601
fsdf555 Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) 0.5805460642093601
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) pending 0.900523825520634
fsdf555 Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) 0.900523825520634
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9102346302191251
fsdf555 { dummy: 'dummy' } 0.9102346302191251
0
fuk
fuk
1
fsdf Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) pending 0.2917229126981744
fsdf555 Error
    at Object.exports.an error (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/helpers/reasons.js:28:12)
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:356:82
    at Array.forEach (<anonymous>)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:355:34)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:353:9)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Suite.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:242:5)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:125:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Object.<anonymous> (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/testFiles.js:13:1)
    at Module._compile (internal/modules/cjs/loader.js:999:30)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1027:10)
    at Module.load (internal/modules/cjs/loader.js:863:32)
    at Function.Module._load (internal/modules/cjs/loader.js:708:14)
    at Module.require (internal/modules/cjs/loader.js:887:19)
    at require (internal/modules/cjs/helpers.js:74:18)
    at Function.module.exports.mocha (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/programmaticRunner.js:73:5)
    at Suite.<anonymous> (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:442:21)
    at Object.create (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/common.js:148:19)
    at context.describe.context.context (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/interfaces/bdd.js:42:27)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:441:1
    at ModuleJob.run (internal/modules/esm/module_job.js:145:37)
    at async Loader.import (internal/modules/esm/loader.js:182:24)
    at async formattedImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at async Object.exports.requireOrImport (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:38:28)
    at async Object.exports.loadFilesAsync (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/nodejs/esm-utils.js:91:20)
    at async singleRun (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at async Object.exports.handler (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/mocha/lib/cli/run.js:370:5) 0.2917229126981744
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an error without a stack</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf [Error] pending 0.482971222931708
fsdf555 [Error] 0.482971222931708
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.05064870170384328
fsdf555 { dummy: 'dummy' } 0.05064870170384328
0
fuk
fuk
1
fsdf [Error] pending 0.3489506506657447
fsdf555 [Error] 0.3489506506657447
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf [Error] pending 0.4748618852329234
fsdf555 [Error] 0.4748618852329234
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7958748203632993
fsdf555 { dummy: 'dummy' } 0.7958748203632993
0
fuk
fuk
1
fsdf [Error] pending 0.48244570219787875
fsdf555 [Error] 0.48244570219787875
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is a date</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf 2022-07-07T08:40:46.622Z pending 0.4155141492521006
fsdf555 2022-07-07T08:40:46.622Z 0.4155141492521006
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9257757290431656
fsdf555 { dummy: 'dummy' } 0.9257757290431656
0
fuk
fuk
1
fsdf 2022-07-07T08:40:46.622Z pending 0.7018610789230804
fsdf555 2022-07-07T08:40:46.622Z 0.7018610789230804
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf 2022-07-07T08:40:46.622Z pending 0.790215265224476
fsdf555 2022-07-07T08:40:46.622Z 0.790215265224476
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7763634096078655
fsdf555 { dummy: 'dummy' } 0.7763634096078655
0
fuk
fuk
1
fsdf 2022-07-07T08:40:46.622Z pending 0.10064823763658315
fsdf555 2022-07-07T08:40:46.622Z 0.10064823763658315
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an object</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf {} pending 0.4211502845675128
fsdf555 {} 0.4211502845675128
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3795613455440514
fsdf555 { dummy: 'dummy' } 0.3795613455440514
0
fuk
fuk
1
fsdf {} pending 0.18879509598555932
fsdf555 {} 0.18879509598555932
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fsdf {} pending 0.680325447617065
fsdf555 {} 0.680325447617065
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5874581177419183
fsdf555 { dummy: 'dummy' } 0.5874581177419183
0
fuk
fuk
1
fsdf {} pending 0.25467827294614054
fsdf555 {} 0.25467827294614054
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an always-pending thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.3775403807206248
fsdf555 { dummy: 'dummy' } 0.3775403807206248
0
fuk
fuk
1
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.3088180396138287
fsdf555 { dummy: 'dummy' } 0.3088180396138287
0
fuk
fuk
1
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is a fulfilled promise</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fuk
dgdg453453453
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) pending 0.355643092341019
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) 0.355643092341019
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.6463513215527599
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.6463513215527599
0
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.6749504581968757
fsdf555 { dummy: 'dummy' } 0.6749504581968757
0
fuk
fuk
1
fuk
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) pending 0.9851504012286258
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) 0.9851504012286258
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.04682926601972959
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.04682926601972959
0
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fuk
dgdg453453453
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) pending 0.7497451073712091
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) 0.7497451073712091
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.11900832332767686
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.11900832332767686
0
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.4000777428721194
fsdf555 { dummy: 'dummy' } 0.4000777428721194
0
fuk
fuk
1
fuk
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) pending 0.4249241139388227
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) 0.4249241139388227
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.4492104613816299
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.7127611077143663,
[31m-[39m   result: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'fulfilled',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.4492104613816299
0
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is a rejected promise</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
0
fuk
fuk
1
fuk
dgdg453453453
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) pending 0.17556188613172696
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) 0.17556188613172696
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.9059169381734544
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:274:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.9059169381734544
0
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.9085733204788626
fsdf555 { dummy: 'dummy' } 0.9085733204788626
0
fuk
fuk
1
fuk
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) pending 0.993150288897517
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) 0.993150288897517
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.4290785172475442
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
[32m+[39m     at internal/process/task_queues.js:153:7
[32m+[39m     at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
[32m+[39m     at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
[32m+[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Object.then (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:71:25)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:153:32
      at internal/process/task_queues.js:153:7
      at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
      at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
      at processTicksAndRejections (internal/process/task_queues.js:97:5),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.4290785172475442
0
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
0
fuk
fuk
1
fuk
dgdg453453453
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) pending 0.0840426139500805
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) 0.0840426139500805
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.9220413359828092
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:335:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.9220413359828092
0
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.46811757727394965
fsdf555 { dummy: 'dummy' } 0.46811757727394965
0
fuk
fuk
1
fuk
fsdf TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) pending 0.2857312558453584
fsdf555 TypeError: Cannot read property 'thenSet' of undefined
    at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
    at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
    at listOnTimeout (internal/timers.js:554:17)
    at processTimers (internal/timers.js:497:7) 0.2857312558453584
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} pending 0.1772387119357859
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

[32m+[39m TypeError: Cannot read property 'thenSet' of undefined
[32m+[39m     at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
[32m+[39m     at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
[32m+[39m     at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
[32m+[39m     at listOnTimeout (internal/timers.js:554:17)
[32m+[39m     at processTimers (internal/timers.js:497:7)
[31m-[39m MyPromise {
[31m-[39m   id: 0.21720388665584078,
[31m-[39m   rejectedReason: {
[31m-[39m     dummy: 'dummy'
[31m-[39m   },
[31m-[39m   state: 'rejected',
[31m-[39m   thenSet: []
[31m-[39m }
    at onPromiseRejected (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:119:20)
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: TypeError: Cannot read property 'thenSet' of undefined
      at then (file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:384:10)
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:209:29
      at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:67:9
      at Timeout._onTimeout (/Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:84:29)
      at listOnTimeout (internal/timers.js:554:17)
      at processTimers (internal/timers.js:497:7),
  expected: [MyPromise],
  operator: 'strictEqual'
} 0.1772387119357859
0
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                  </dl>
                </section>
                <section class="suite">
                  <h1>2.3.3.3.3: If both &#x60;resolvePromise&#x60; and &#x60;rejectPromise&#x60; are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored.</h1>
                  <dl>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; then &#x60;rejectPromise&#x60;, both synchronously</h1>
                      <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.7175948223980768
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7697502356981121
fsdf555 { dummy: 'dummy' } 0.7697502356981121
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.8276577705430634
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; synchronously then &#x60;rejectPromise&#x60; asynchronously</h1>
                      <dl>
0
fuk
fuk
1
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { other: 'other' } fulfilled 0.3815318111023567
fsdf { dummy: 'dummy' } pending 0.5302943133024303
fsdf555 { dummy: 'dummy' } 0.5302943133024303
0
fuk
fuk
1
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; then &#x60;rejectPromise&#x60;, both asynchronously</h1>
                      <dl>
0
fuk
fuk
1
fsdf { other: 'other' } fulfilled 0.11576168355382066
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { other: 'other' } fulfilled 0.7479651169674777
fsdf { dummy: 'dummy' } pending 0.5600467052705367
fsdf555 { dummy: 'dummy' } 0.5600467052705367
0
fuk
fuk
1
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { other: 'other' } fulfilled 0.9583884550029722
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-fulfilled promise, then calling &#x60;rejectPromise&#x60;, both synchronously</h1>
                      <dl>
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.7379622455358856
fsdf555 { other: 'other' } 0.7379622455358856
1
fsdf { other: 'other' } pending 0.9824950579956853
fsdf555 { other: 'other' } 0.9824950579956853
0
1
0
                        <dt class="error">via return from a fulfilled promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.9928026216005963
fsdf555 { dummy: 'dummy' } 0.9928026216005963
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.9841280402823886
fsdf555 { other: 'other' } 0.9841280402823886
1
fsdf { other: 'other' } pending 0.26593378271308343
fsdf555 { other: 'other' } 0.26593378271308343
0
1
0
                        <dt class="error">via return from a rejected promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-rejected promise, then calling &#x60;rejectPromise&#x60;, both synchronously</h1>
                      <dl>
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.765300323804359
fsdf555 { other: 'other' } 0.765300323804359
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:467:32
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.43110727037826946
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:467:32
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.43110727037826946
0
fsdf { sentinel: 'sentinel' } pending 0.4637292451244577
fsdf555 { sentinel: 'sentinel' } 0.4637292451244577
1
fsdf { sentinel: 'sentinel' } rejected 0.765300323804359
0
                        <dt class="error">via return from a fulfilled promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.7675069671179544
fsdf555 { dummy: 'dummy' } 0.7675069671179544
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.8530678419787101
fsdf555 { other: 'other' } 0.8530678419787101
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:467:32
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.9861560922241184
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:467:32
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.9861560922241184
0
fsdf { sentinel: 'sentinel' } pending 0.13911545534778846
fsdf555 { sentinel: 'sentinel' } 0.13911545534778846
1
fsdf { sentinel: 'sentinel' } rejected 0.8530678419787101
0
                        <dt class="error">via return from a rejected promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; then &#x60;resolvePromise&#x60;, both synchronously</h1>
                      <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7846231914675446
fsdf555 { sentinel: 'sentinel' } 0.7846231914675446
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.3804778187662934
fsdf555 { dummy: 'dummy' } 0.3804778187662934
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6209466532184946
fsdf555 { sentinel: 'sentinel' } 0.6209466532184946
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; synchronously then &#x60;resolvePromise&#x60; asynchronously</h1>
                      <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5510131842053818
fsdf555 { sentinel: 'sentinel' } 0.5510131842053818
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.350067386319848
fsdf555 { dummy: 'dummy' } 0.350067386319848
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.15793093605425335
fsdf555 { sentinel: 'sentinel' } 0.15793093605425335
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; then &#x60;resolvePromise&#x60;, both asynchronously</h1>
                      <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.09437230407265718
fsdf555 { sentinel: 'sentinel' } 0.09437230407265718
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9150807699009409
fsdf555 { dummy: 'dummy' } 0.9150807699009409
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9828141025630239
fsdf555 { sentinel: 'sentinel' } 0.9828141025630239
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; twice synchronously</h1>
                      <dl>
0
fuk
fuk
1
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.257857070387131
fsdf555 { dummy: 'dummy' } 0.257857070387131
0
fuk
fuk
1
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; twice, first synchronously then asynchronously</h1>
                      <dl>
0
fuk
fuk
1
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9082267357770752
fsdf555 { dummy: 'dummy' } 0.9082267357770752
0
fuk
fuk
1
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; twice, both times asynchronously</h1>
                      <dl>
0
fuk
fuk
1
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4429712615856989
fsdf555 { dummy: 'dummy' } 0.4429712615856989
0
fuk
fuk
1
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-fulfilled promise, then calling it again, both times synchronously</h1>
                      <dl>
0
fuk
fuk
1
fuk
1
1
0
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.041092885010077795
fsdf555 { dummy: 'dummy' } 0.041092885010077795
0
fuk
fuk
1
fuk
1
1
0
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-rejected promise, then calling it again, both times synchronously</h1>
                      <dl>
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.7831235311798765
fsdf555 { sentinel: 'sentinel' } 0.7831235311798765
1
fsdf { sentinel: 'sentinel' } pending 0.720987696413524
fsdf555 { sentinel: 'sentinel' } 0.720987696413524
1
0
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5240665177924375
fsdf555 { dummy: 'dummy' } 0.5240665177924375
0
fuk
fuk
1
fuk
fsdf { sentinel: 'sentinel' } pending 0.9670262505722451
fsdf555 { sentinel: 'sentinel' } 0.9670262505722451
1
fsdf { sentinel: 'sentinel' } pending 0.17890327463484113
fsdf555 { sentinel: 'sentinel' } 0.17890327463484113
1
0
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; twice synchronously</h1>
                      <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9419586666269131
fsdf555 { sentinel: 'sentinel' } 0.9419586666269131
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.41211280716519805
fsdf555 { dummy: 'dummy' } 0.41211280716519805
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.20531929246399616
fsdf555 { sentinel: 'sentinel' } 0.20531929246399616
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; twice, first synchronously then asynchronously</h1>
                      <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9364319819340412
fsdf555 { sentinel: 'sentinel' } 0.9364319819340412
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7073442180316414
fsdf555 { dummy: 'dummy' } 0.7073442180316414
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.7689203577304975
fsdf555 { sentinel: 'sentinel' } 0.7689203577304975
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; twice, both times asynchronously</h1>
                      <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8476544257700789
fsdf555 { sentinel: 'sentinel' } 0.8476544257700789
1
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.6811934447557906
fsdf555 { dummy: 'dummy' } 0.6811934447557906
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.518454611553685
fsdf555 { sentinel: 'sentinel' } 0.518454611553685
1
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>saving and abusing &#x60;resolvePromise&#x60; and &#x60;rejectPromise&#x60;</h1>
                      <dl>
0
fuk
fuk
1
1
fsdf { dummy: 'dummy' } fulfilled 0.532462468806927
0
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
fsdf { dummy: 'dummy' } pending 0.8657911939282139
fsdf555 { dummy: 'dummy' } 0.8657911939282139
0
fuk
fuk
1
1
fsdf { dummy: 'dummy' } fulfilled 0.7067069798630505
0
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                  </dl>
                </section>
                <section class="suite">
                  <h1>2.3.3.3.4: If calling &#x60;then&#x60; throws an exception &#x60;e&#x60;,</h1>
                  <dl>
                    <section class="suite">
                      <h1>2.3.3.3.4.1: If &#x60;resolvePromise&#x60; or &#x60;rejectPromise&#x60; have been called, ignore it.</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; was called with a non-thenable</h1>
                          <dl>
0
fuk
fuk
1
1
da453453453
fsdf { other: 'other' } fulfilled 0.9301966970897184
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.40070537252573835
fsdf555 { dummy: 'dummy' } 0.40070537252573835
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.4755425288859907
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; was called with an asynchronously-fulfilled promise</h1>
                          <dl>
0
fuk
fuk
1
fuk
da453453453
fsdf { other: 'other' } pending 0.5152510841929883
fsdf555 { other: 'other' } 0.5152510841929883
1
fsdf { other: 'other' } pending 0.5504687745406482
fsdf555 { other: 'other' } 0.5504687745406482
0
1
0
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.131613528369533
fsdf555 { dummy: 'dummy' } 0.131613528369533
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.24419900906186576
fsdf555 { other: 'other' } 0.24419900906186576
1
fsdf { other: 'other' } pending 0.07607150650412509
fsdf555 { other: 'other' } 0.07607150650412509
0
1
0
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; was called with an asynchronously-rejected promise</h1>
                          <dl>
0
fuk
fuk
1
fuk
da453453453
fsdf { other: 'other' } pending 0.29713118512097547
fsdf555 { other: 'other' } 0.29713118512097547
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:820:36
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.6797673314385082
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:820:36
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.6797673314385082
0
fsdf { sentinel: 'sentinel' } pending 0.5185736896614701
fsdf555 { sentinel: 'sentinel' } 0.5185736896614701
1
fsdf { sentinel: 'sentinel' } rejected 0.29713118512097547
0
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
fsdf { dummy: 'dummy' } pending 0.17999912134838802
fsdf555 { dummy: 'dummy' } 0.17999912134838802
0
fuk
fuk
1
fuk
fsdf { other: 'other' } pending 0.055848790007891
fsdf555 { other: 'other' } 0.055848790007891
1
fsdf AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:820:36
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} pending 0.013116495225385938
fsdf555 AssertionError [ERR_ASSERTION]: Expected "actual" to be reference-equal to "expected":
[32m+ actual[39m [31m- expected[39m

  {
[32m+[39m   other: 'other'
[31m-[39m   sentinel: 'sentinel'
  }
    at /Users/zhengqiguang/Work/private/note-book/codes/node_modules/promises-aplus-tests/lib/tests/2.3.3.js:820:36
    at file:///Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js:127:30
    at internal/process/task_queues.js:153:7
    at AsyncResource.runInAsyncScope (async_hooks.js:189:9)
    at AsyncResource.runMicrotask (internal/process/task_queues.js:150:8)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {
  generatedMessage: true,
  code: 'ERR_ASSERTION',
  actual: [Object],
  expected: [Object],
  operator: 'strictEqual'
} 0.013116495225385938
0
fsdf { sentinel: 'sentinel' } pending 0.7701610067138234
fsdf555 { sentinel: 'sentinel' } 0.7701610067138234
1
fsdf { sentinel: 'sentinel' } rejected 0.055848790007891
0
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;rejectPromise&#x60; was called</h1>
                          <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5029963357077842
fsdf555 { sentinel: 'sentinel' } 0.5029963357077842
1
da453453453
fsdf { other: 'other' } rejected 0.5029963357077842
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5415643196179918
fsdf555 { dummy: 'dummy' } 0.5415643196179918
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.6772847050425987
fsdf555 { sentinel: 'sentinel' } 0.6772847050425987
1
fsdf { other: 'other' } rejected 0.6772847050425987
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; then &#x60;rejectPromise&#x60; were called</h1>
                          <dl>
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.8555339053956943
da453453453
fsdf { other: 'other' } fulfilled 0.8555339053956943
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.583007938518681
fsdf555 { dummy: 'dummy' } 0.583007938518681
0
fuk
fuk
1
1
fsdf { other: 'other' } fulfilled 0.1896180981151283
fsdf { other: 'other' } fulfilled 0.1896180981151283
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;rejectPromise&#x60; then &#x60;resolvePromise&#x60; were called</h1>
                          <dl>
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5497636985188732
fsdf555 { sentinel: 'sentinel' } 0.5497636985188732
1
da453453453
fsdf { other: 'other' } rejected 0.5497636985188732
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.14731707405121264
fsdf555 { dummy: 'dummy' } 0.14731707405121264
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.23180170005571377
fsdf555 { sentinel: 'sentinel' } 0.23180170005571377
1
fsdf { other: 'other' } rejected 0.23180170005571377
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>2.3.3.3.4.2: Otherwise, reject &#x60;promise&#x60; with &#x60;e&#x60; as the reason.</h1>
                      <dl>
                        <section class="suite">
                          <h1>straightforward case</h1>
                          <dl>
0
fuk
fuk
1
da453453453
fsdf { sentinel: 'sentinel' } pending 0.4192486105734621
fsdf555 { sentinel: 'sentinel' } 0.4192486105734621
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.48117456469759445
fsdf555 { dummy: 'dummy' } 0.48117456469759445
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.9209775091499159
fsdf555 { sentinel: 'sentinel' } 0.9209775091499159
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; is called asynchronously before the &#x60;throw&#x60;</h1>
                          <dl>
0
fuk
fuk
1
da453453453
fsdf { sentinel: 'sentinel' } pending 0.46480625058244773
fsdf555 { sentinel: 'sentinel' } 0.46480625058244773
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.5039356862820714
fsdf555 { dummy: 'dummy' } 0.5039356862820714
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.5504463604013516
fsdf555 { sentinel: 'sentinel' } 0.5504463604013516
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;rejectPromise&#x60; is called asynchronously before the &#x60;throw&#x60;</h1>
                          <dl>
0
fuk
fuk
1
da453453453
fsdf { sentinel: 'sentinel' } pending 0.09958224931441806
fsdf555 { sentinel: 'sentinel' } 0.09958224931441806
1
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9917649149085919
fsdf555 { dummy: 'dummy' } 0.9917649149085919
0
fuk
fuk
1
fsdf { sentinel: 'sentinel' } pending 0.8889049159409814
fsdf555 { sentinel: 'sentinel' } 0.8889049159409814
1
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                          </dl>
                        </section>
fsdf { other: 'other' } rejected 0.09958224931441806
fsdf { other: 'other' } rejected 0.8889049159409814
                      </dl>
                    </section>
                  </dl>
                </section>
              </dl>
            </section>
            <section class="suite">
              <h1>2.3.3.4: If &#x60;then&#x60; is not a function, fulfill promise with &#x60;x&#x60;</h1>
              <dl>
                <section class="suite">
                  <h1>&#x60;then&#x60; is &#x60;5&#x60;</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.82724151200261
fsdf555 { dummy: 'dummy' } 0.82724151200261
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;then&#x60; is an object</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.32261322482236765
fsdf555 { dummy: 'dummy' } 0.32261322482236765
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;then&#x60; is an array containing a function</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9376221090243229
fsdf555 { dummy: 'dummy' } 0.9376221090243229
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;then&#x60; is a regular expression</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.18097907841376082
fsdf555 { dummy: 'dummy' } 0.18097907841376082
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
                <section class="suite">
                  <h1>&#x60;then&#x60; is an object inheriting from &#x60;Function.prototype&#x60;</h1>
                  <dl>
0
fuk
fuk
1
1
                    <dt>via return from a fulfilled promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.9976841891229484
fsdf555 { dummy: 'dummy' } 0.9976841891229484
0
fuk
fuk
1
1
                    <dt>via return from a rejected promise</dt>
                    <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                    <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
0
                  </dl>
                </section>
              </dl>
            </section>
          </dl>
        </section>
        <section class="suite">
          <h1>2.3.4: If &#x60;x&#x60; is not an object or function, fulfill &#x60;promise&#x60; with &#x60;x&#x60;</h1>
          <dl>
            <section class="suite">
              <h1>The value is &#x60;undefined&#x60;</h1>
              <dl>
0
fuk
fuk
1
1
                <dt>already-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(resolved(value), done);</code></pre></dd>
0
fuk
fuk
1
0
1
                <dt>immediately-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.resolve(value);</code></pre></dd>
0
fuk
fuk
1
1
                <dt>eventually-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.resolve(value);
}, 50);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.54562592930267
fsdf555 { dummy: 'dummy' } 0.54562592930267
0
fuk
fuk
1
1
                <dt>already-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(rejected(reason), done);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.44803503050179017
fsdf555 { dummy: 'dummy' } 0.44803503050179017
1
0
1
                <dt>immediately-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.reject(reason);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.9664688121418865
fsdf555 { dummy: 'dummy' } 0.9664688121418865
1
1
                <dt>eventually-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.reject(reason);
}, 50);</code></pre></dd>
0
              </dl>
            </section>
            <section class="suite">
              <h1>The value is &#x60;null&#x60;</h1>
              <dl>
0
fuk
fuk
1
1
                <dt>already-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(resolved(value), done);</code></pre></dd>
0
fuk
fuk
1
0
1
                <dt>immediately-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.resolve(value);</code></pre></dd>
0
fuk
fuk
1
1
                <dt>eventually-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.resolve(value);
}, 50);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.015997052952035018
fsdf555 { dummy: 'dummy' } 0.015997052952035018
0
fuk
fuk
1
1
                <dt>already-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(rejected(reason), done);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.6672895822994602
fsdf555 { dummy: 'dummy' } 0.6672895822994602
1
0
1
                <dt>immediately-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.reject(reason);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.5137644894643587
fsdf555 { dummy: 'dummy' } 0.5137644894643587
1
1
                <dt>eventually-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.reject(reason);
}, 50);</code></pre></dd>
0
              </dl>
            </section>
            <section class="suite">
              <h1>The value is &#x60;false&#x60;</h1>
              <dl>
0
fuk
fuk
1
1
                <dt>already-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(resolved(value), done);</code></pre></dd>
0
fuk
fuk
1
0
1
                <dt>immediately-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.resolve(value);</code></pre></dd>
0
fuk
fuk
1
1
                <dt>eventually-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.resolve(value);
}, 50);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.002115246459650555
fsdf555 { dummy: 'dummy' } 0.002115246459650555
0
fuk
fuk
1
1
                <dt>already-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(rejected(reason), done);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.7071071255584447
fsdf555 { dummy: 'dummy' } 0.7071071255584447
1
0
1
                <dt>immediately-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.reject(reason);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.765152699482561
fsdf555 { dummy: 'dummy' } 0.765152699482561
1
1
                <dt>eventually-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.reject(reason);
}, 50);</code></pre></dd>
0
              </dl>
            </section>
            <section class="suite">
              <h1>The value is &#x60;true&#x60;</h1>
              <dl>
0
fuk
fuk
1
1
                <dt>already-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(resolved(value), done);</code></pre></dd>
0
fuk
fuk
1
0
1
                <dt>immediately-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.resolve(value);</code></pre></dd>
0
fuk
fuk
1
1
                <dt>eventually-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.resolve(value);
}, 50);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4630340360595617
fsdf555 { dummy: 'dummy' } 0.4630340360595617
0
fuk
fuk
1
1
                <dt>already-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(rejected(reason), done);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.17211780327521908
fsdf555 { dummy: 'dummy' } 0.17211780327521908
1
0
1
                <dt>immediately-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.reject(reason);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.9624565412871853
fsdf555 { dummy: 'dummy' } 0.9624565412871853
1
1
                <dt>eventually-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.reject(reason);
}, 50);</code></pre></dd>
0
              </dl>
            </section>
            <section class="suite">
              <h1>The value is &#x60;0&#x60;</h1>
              <dl>
0
fuk
fuk
1
1
                <dt>already-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(resolved(value), done);</code></pre></dd>
0
fuk
fuk
1
0
1
                <dt>immediately-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.resolve(value);</code></pre></dd>
0
fuk
fuk
1
1
                <dt>eventually-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.resolve(value);
}, 50);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.4457847665038459
fsdf555 { dummy: 'dummy' } 0.4457847665038459
0
fuk
fuk
1
1
                <dt>already-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(rejected(reason), done);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.7617157298216239
fsdf555 { dummy: 'dummy' } 0.7617157298216239
1
0
1
                <dt>immediately-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.reject(reason);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.7590072626111399
fsdf555 { dummy: 'dummy' } 0.7590072626111399
1
1
                <dt>eventually-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.reject(reason);
}, 50);</code></pre></dd>
0
              </dl>
            </section>
            <section class="suite">
              <h1>The value is &#x60;true&#x60; with &#x60;Boolean.prototype&#x60; modified to have a &#x60;then&#x60; method</h1>
              <dl>
0
fuk
fuk
1
1
                <dt>already-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(resolved(value), done);</code></pre></dd>
0
fuk
fuk
1
0
1
                <dt>immediately-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.resolve(value);</code></pre></dd>
0
fuk
fuk
1
1
                <dt>eventually-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.resolve(value);
}, 50);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.1306697952325253
fsdf555 { dummy: 'dummy' } 0.1306697952325253
0
fuk
fuk
1
1
                <dt>already-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(rejected(reason), done);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.2907005769609732
fsdf555 { dummy: 'dummy' } 0.2907005769609732
1
0
1
                <dt>immediately-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.reject(reason);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.20911351150678037
fsdf555 { dummy: 'dummy' } 0.20911351150678037
1
1
                <dt>eventually-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.reject(reason);
}, 50);</code></pre></dd>
0
              </dl>
            </section>
            <section class="suite">
              <h1>The value is &#x60;1&#x60; with &#x60;Number.prototype&#x60; modified to have a &#x60;then&#x60; method</h1>
              <dl>
0
fuk
fuk
1
1
                <dt>already-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(resolved(value), done);</code></pre></dd>
0
fuk
fuk
1
0
1
                <dt>immediately-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.resolve(value);</code></pre></dd>
0
fuk
fuk
1
1
                <dt>eventually-fulfilled</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.resolve(value);
}, 50);</code></pre></dd>
0
fsdf { dummy: 'dummy' } pending 0.7733061690070009
fsdf555 { dummy: 'dummy' } 0.7733061690070009
0
fuk
fuk
1
1
                <dt>already-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>test(rejected(reason), done);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.7542088774397109
fsdf555 { dummy: 'dummy' } 0.7542088774397109
1
0
1
                <dt>immediately-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
d.reject(reason);</code></pre></dd>
0
fuk
fuk
fsdf { dummy: 'dummy' } pending 0.9983560257998714
fsdf555 { dummy: 'dummy' } 0.9983560257998714
1
1
                <dt>eventually-rejected</dt>
                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                <dd><pre><code>var d = deferred();
test(d.promise, done);
setTimeout(function () {
    d.reject(reason);
}, 50);</code></pre></dd>
0
              </dl>
            </section>
          </dl>
        </section>
      </dl>
    </section>
</div>
<a href="http://github.com/visionmedia/superagent"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
<script>
  $('code').each(function(){
    $(this).html(highlight($(this).text()));
  });

  function highlight(js) {
    return js
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/('.*?')/gm, '<span class="string">$1</span>')
      .replace(/(\d+\.\d+)/gm, '<span class="number">$1</span>')
      .replace(/(\d+)/gm, '<span class="number">$1</span>')
      .replace(/\bnew *(\w+)/gm, '<span class="keyword">new</span> <span class="init">$1</span>')
      .replace(/\b(function|new|throw|return|var|if|else)\b/gm, '<span class="keyword">$1</span>')
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/3.0.0/tocbot.js"></script>
<script>
  // Only use tocbot for main docs, not test docs
  if (document.querySelector('#superagent')) {
    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '#menu',
      // Where to grab the headings to build the table of contents.
      contentSelector: '#content',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h2',
      smoothScroll: false
    });
  }
</script>
</body>
</html>