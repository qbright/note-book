<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/3.0.0/tocbot.css">
    <!-- <link rel="stylesheet" href="docs/style.css"> -->
    <style>
      body {
  padding: 40px 80px;
  font: 14px/1.5 "Helvetica Neue", Helvetica, sans-serif;
  background: #181818 url(images/bg.png);
  text-align: center;
}

#content {
  margin: 0 auto;
  padding: 10px 40px;
  text-align: left;
  background: white;
  width: 50%;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  -webkit-box-shadow: 0 2px 5px 0 black;
}

#menu {
  font-size: 13px;
  margin: 0;
  padding: 0;
  text-align: left;
  position: fixed;
  top: 15px;
  left: 15px;
}

#menu ul {
  margin: 0;
  padding: 0;
}

#menu li {
  list-style: none;
}

#menu a {
  color: rgba(255,255,255,.5);
  text-decoration: none;
}

#menu a:hover {
  color: white;
}

#menu .active a {
  color: white;
}

pre {
  padding: 10px;
}

code {
  font-family: monaco, monospace, sans-serif;
  font-size: 0.85em;
}

p code {
  border: 1px solid #ECEA75;
  padding: 1px 3px;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  background: #FDFCD1;
}

pre {
  padding: 20px 25px;
  border: 1px solid #ddd;
  -webkit-box-shadow: inset 0 0 5px #eee;
  -moz-box-shadow: inset 0 0 5px #eee;
  box-shadow: inset 0 0 5px #eee;
}

code .comment { color: #ddd }
code .init { color: #2F6FAD }
code .string { color: #5890AD }
code .keyword { color: #8A6343 }
code .number { color: #2F6FAD }

/* override tocbot style to avoid vertical white line in table of content */
.toc-link::before {
  content: initial;
}

.error {
  color:red;
  font-weight:bold;
}

    </style>
  </head>
  <body>
    <ul id="menu"></ul>
    <div id="content">hello 0.7864290421678708
    <section class="suite">
      <h1>Promises/A+ Tests</h1>
      <dl>
        <section class="suite">
          <h1>2.3.3: Otherwise, if &#x60;x&#x60; is an object or function,</h1>
          <dl>
            <section class="suite">
              <h1>2.3.3.3: If &#x60;then&#x60; is a function, call it with &#x60;x&#x60; as &#x60;this&#x60;, first argument &#x60;resolvePromise&#x60;, and second argument &#x60;rejectPromise&#x60;</h1>
              <dl>
                <section class="suite">
                  <h1>2.3.3.3.1: If/when &#x60;resolvePromise&#x60; is called with value &#x60;y&#x60;, run &#x60;[[Resolve]](promise, y)&#x60;</h1>
                  <dl>
                    <section class="suite">
                      <h1>&#x60;y&#x60; is a thenable for a thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9336053340012582
{ sentinel: 'sentinel' } 0.562686196240179
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.2646729037175273
{ sentinel: 'sentinel' } 0.6561993649254052
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.30298557147174243
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.18331834883678289
{ sentinel: 'sentinel' } 0.8397602688186452
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6477319438832465
{ sentinel: 'sentinel' } 0.8437230873781629
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.1711675764926599
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.11325155236759166
{ sentinel: 'sentinel' } 0.3928051384306568
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5482314769909966
{ sentinel: 'sentinel' } 0.4856731580313993
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8667855172391319
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.413089368697668
{ sentinel: 'sentinel' } 0.43384454921337534
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8762937248739986
{ sentinel: 'sentinel' } 0.3827240061876478
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9864862804006274
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6202020662416368
{ sentinel: 'sentinel' } 0.9629189468944848
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5663623775933555
{ sentinel: 'sentinel' } 0.5216844060780113
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6700765788831298
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.13829482224609002
{ sentinel: 'sentinel' } 0.6616815484864818
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.09578544763209829
{ sentinel: 'sentinel' } 0.8578076940020327
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6909442933315744
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.03629677099975481
{ sentinel: 'sentinel' } 0.4875011171234591
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.06094521009846243
{ sentinel: 'sentinel' } 0.6535323254918088
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.1334815415890187
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.4676005778943946
{ sentinel: 'sentinel' } 0.29531039205573717
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.31396680153172696
{ sentinel: 'sentinel' } 0.6307870976342782
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.08378564780897246
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8604162225053382
{ sentinel: 'sentinel' } 0.18322025603473224
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.12600479409247978
{ sentinel: 'sentinel' } 0.6579920586146926
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5146045468846805
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5182362419509576
{ sentinel: 'sentinel' } 0.39434437635280206
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5772704424442685
{ sentinel: 'sentinel' } 0.21039293388736358
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.30363989217128884
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.3036166680376051
{ sentinel: 'sentinel' } 0.3352030812909901
{ sentinel: 'sentinel' } 0.9149194854446963
undefined 0.25332207475211965
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5005363410501646
{ sentinel: 'sentinel' } 0.4652247045462017
{ sentinel: 'sentinel' } 0.4493291321362791
undefined 0.2025082025069478
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6629519587072386
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.31409288414422143
{ sentinel: 'sentinel' } 0.8340326169267
{ sentinel: 'sentinel' } 0.6691983681800171
undefined 0.9002970324779229
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8141505920004899
{ sentinel: 'sentinel' } 0.9808893787202266
{ sentinel: 'sentinel' } 0.9312671426038919
undefined 0.2516606837875195
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.40698594547706235
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.95478288042749
{ sentinel: 'sentinel' } 0.33957303744488976
{ sentinel: 'sentinel' } 0.1572945845625513
undefined 0.24377020708813446
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4047393480800763
{ sentinel: 'sentinel' } 0.03785397354282938
{ sentinel: 'sentinel' } 0.4497938452667165
undefined 0.23313682420616377
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.37360410319059967
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.7071556481935815
{ sentinel: 'sentinel' } 0.3689992178307111
{ sentinel: 'sentinel' } 0.11930877723670741
undefined 0.2342502992077613
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5413738643183994
{ sentinel: 'sentinel' } 0.6472768579750674
{ sentinel: 'sentinel' } 0.3434509904035743
undefined 0.20513876868986558
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.14998264812551776
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8638545629033614
{ sentinel: 'sentinel' } 0.32188328902872154
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7111786870753616
{ sentinel: 'sentinel' } 0.9305935448416287
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5437990768166181
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.007942843726951754
{ sentinel: 'sentinel' } 0.321348888561825
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7722832662967845
{ sentinel: 'sentinel' } 0.41117803530423447
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9682442440268628
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5333963735334437
{ sentinel: 'sentinel' } 0.7134412275451814
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.04755880777600563
{ sentinel: 'sentinel' } 0.5737878587572809
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.24182741244806594
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.7558286704407862
{ sentinel: 'sentinel' } 0.4869272113767742
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8302256359371254
{ sentinel: 'sentinel' } 0.8538087105246237
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.05785623849288535
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.189191924499172
{ sentinel: 'sentinel' } 0.8315921920628699
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4111813967147486
{ sentinel: 'sentinel' } 0.12594914344839303
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9139910334209611
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6474190263402804
{ sentinel: 'sentinel' } 0.4634131467392446
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8948946250762284
{ sentinel: 'sentinel' } 0.6642734902712839
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.533993068872384
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.10740115947672146
{ sentinel: 'sentinel' } 0.4205325806491189
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8434969965491257
{ sentinel: 'sentinel' } 0.4351389516418427
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7527059317150862
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.2438919030754989
{ sentinel: 'sentinel' } 0.8419733239953335
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5865395664061686
{ sentinel: 'sentinel' } 0.5521744857243185
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8751943375760511
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.10114920135381267
{ sentinel: 'sentinel' } 0.6720112746334479
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.1366347778059822
{ sentinel: 'sentinel' } 0.7541201897255929
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4981807421376947
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.328872074704877
{ sentinel: 'sentinel' } 0.4690218361392149
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7388349254715247
{ sentinel: 'sentinel' } 0.9546879661113652
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8013803270469955
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9309832859250651
{ sentinel: 'sentinel' } 0.12374527338476837
{ sentinel: 'sentinel' } 0.211598287032692
undefined 0.8707631229724591
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7445469381735383
{ sentinel: 'sentinel' } 0.9664348175551001
{ sentinel: 'sentinel' } 0.17092126536343533
undefined 0.11324249240500084
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.043573340275695704
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6943611327240196
{ sentinel: 'sentinel' } 0.5959599640932969
{ sentinel: 'sentinel' } 0.7517349036883665
undefined 0.13453559938662618
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8637952416056851
{ sentinel: 'sentinel' } 0.8044268954924247
{ sentinel: 'sentinel' } 0.4944801159743246
undefined 0.9287558157234559
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.34149297247530863
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6945038521208329
{ sentinel: 'sentinel' } 0.15928894859680276
{ sentinel: 'sentinel' } 0.5885057200822561
undefined 0.4154811429904919
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.1953739027510084
{ sentinel: 'sentinel' } 0.21202442102857244
{ sentinel: 'sentinel' } 0.401927995051818
undefined 0.3964882801630609
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5683775687682133
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6830795989828715
{ sentinel: 'sentinel' } 0.0037431837471471052
{ sentinel: 'sentinel' } 0.7802290976459423
undefined 0.4515548561595548
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8697999379516264
{ sentinel: 'sentinel' } 0.0486354350893492
{ sentinel: 'sentinel' } 0.7612376273023636
undefined 0.16753380818811237
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.33987774339900234
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.030892864554820765
{ sentinel: 'sentinel' } 0.4555429637357986
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3831729969851341
{ sentinel: 'sentinel' } 0.45571334907983596
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8300098270395864
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.938890852283873
{ sentinel: 'sentinel' } 0.482605144229979
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9546353219586412
{ sentinel: 'sentinel' } 0.24657581792902428
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7067724021385227
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6279802345532759
{ sentinel: 'sentinel' } 0.3081681375589038
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.10650288564825083
{ sentinel: 'sentinel' } 0.11444136380937264
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.73965765324564
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.14426881306404749
{ sentinel: 'sentinel' } 0.7509566962435723
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9860960359815736
{ sentinel: 'sentinel' } 0.2720945340365446
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.12465757181898152
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8546494843977959
{ sentinel: 'sentinel' } 0.6846231717514999
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.11581652247541219
{ sentinel: 'sentinel' } 0.14287885887642293
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7062370872466872
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.13957866462331614
{ sentinel: 'sentinel' } 0.395196312273179
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.17404549295114435
{ sentinel: 'sentinel' } 0.8999457033011569
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.24317534786621908
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.10029563380339623
{ sentinel: 'sentinel' } 0.24405754804110602
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.1645511453796351
{ sentinel: 'sentinel' } 0.3615907772846194
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.11742383117190158
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8157509054497467
{ sentinel: 'sentinel' } 0.4991331925214686
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6746363656831407
{ sentinel: 'sentinel' } 0.18027165630553932
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.14832839896792227
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.050503853336117066
{ sentinel: 'sentinel' } 0.9028773075986616
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.01146243937617153
{ sentinel: 'sentinel' } 0.2389945031122469
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7453748655297288
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.4332069070528166
{ sentinel: 'sentinel' } 0.8897480014432562
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.16859634501682552
{ sentinel: 'sentinel' } 0.25056573477298527
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7592448384245603
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8923041103817444
{ sentinel: 'sentinel' } 0.5467816623864887
{ sentinel: 'sentinel' } 0.8267294120001809
undefined 0.9169134190854238
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.37252025706382685
{ sentinel: 'sentinel' } 0.4154494239789899
{ sentinel: 'sentinel' } 0.34180822012832546
undefined 0.287749321537482
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3800448926819373
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.16038692509047614
{ sentinel: 'sentinel' } 0.8678096672973197
{ sentinel: 'sentinel' } 0.27754749714862115
undefined 0.4548146936490627
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5282758368401133
{ sentinel: 'sentinel' } 0.8217904670937888
{ sentinel: 'sentinel' } 0.9186731795382221
undefined 0.09583686550557946
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.18512153370140116
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5698081679702804
{ sentinel: 'sentinel' } 0.0451986469361354
{ sentinel: 'sentinel' } 0.37462816699158696
undefined 0.7911026693604768
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9345832026918708
{ sentinel: 'sentinel' } 0.3487634634184964
{ sentinel: 'sentinel' } 0.2422709704247883
undefined 0.7195124013864354
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6171216238893766
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.10000884201716365
{ sentinel: 'sentinel' } 0.312792903139947
{ sentinel: 'sentinel' } 0.05250414314538787
undefined 0.3184368984107433
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3197003925400588
{ sentinel: 'sentinel' } 0.9162989025135404
{ sentinel: 'sentinel' } 0.9907761381786377
undefined 0.22938710954364327
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3550606560624432
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.585532459340478
{ sentinel: 'sentinel' } 0.6317834923405459
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6807932379043224
{ sentinel: 'sentinel' } 0.5525371975608073
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.528870685724717
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.18744923450079787
{ sentinel: 'sentinel' } 0.6096211916461403
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.43462084079436836
{ sentinel: 'sentinel' } 0.3853968069662077
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4843988044618568
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9499159965297159
{ other: 'other' } 0.2352507948328102
cccc { other: 'other' } { sentinel: 'sentinel' }
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ other: 'other' } 0.6490463636287775
cccc { other: 'other' } { sentinel: 'sentinel' }
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.06837754842069166
{ other: 'other' } 0.94602717789306
cccc { other: 'other' } { sentinel: 'sentinel' }
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ other: 'other' } 0.7912642146762732
cccc { other: 'other' } { sentinel: 'sentinel' }
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.4006376798294511
{ sentinel: 'sentinel' } 0.22659009818201903
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.32021058230114163
{ sentinel: 'sentinel' } 0.7151596222809065
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7230418112280443
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9304163307573619
{ sentinel: 'sentinel' } 0.037035747572193634
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.49976725533659216
{ sentinel: 'sentinel' } 0.27290199953655536
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.030606462459335626
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.690771335211068
{ sentinel: 'sentinel' } 0.10772498537009878
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9927114645974888
{ sentinel: 'sentinel' } 0.9423297686156302
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7006837986209957
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5303127493793336
{ sentinel: 'sentinel' } 0.5008248931635959
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.38686578208078926
{ sentinel: 'sentinel' } 0.01670840499690951
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8331990189741285
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5154856829852965
{ sentinel: 'sentinel' } 0.23463599880671548
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5888444377798823
{ sentinel: 'sentinel' } 0.4550473388504588
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6736947921872147
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6270768011505556
{ sentinel: 'sentinel' } 0.18703486170645012
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9154242748352868
{ sentinel: 'sentinel' } 0.17209298643903947
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7356657741438508
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.2691367663150217
{ sentinel: 'sentinel' } 0.49124183592992954
{ other: 'other' } 0.9007773539844255
cccc { other: 'other' } { sentinel: 'sentinel' }
undefined 0.8895232923999261
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ sentinel: 'sentinel' } 0.21032111695207245
{ other: 'other' } 0.578948767852554
cccc { other: 'other' } { sentinel: 'sentinel' }
undefined 0.8395977195498139
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9391546339401986
{ sentinel: 'sentinel' } 0.7651001020322448
{ other: 'other' } 0.8696927987760779
cccc { other: 'other' } { sentinel: 'sentinel' }
undefined 0.04220044722569649
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ sentinel: 'sentinel' } 0.7643732924326478
{ other: 'other' } 0.45811446536450506
cccc { other: 'other' } { sentinel: 'sentinel' }
undefined 0.06297904959919687
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.4916544772857654
{ other: 'other' } 0.8329416182712903
cccc { other: 'other' } { sentinel: 'sentinel' }
{ sentinel: 'sentinel' } 0.5461745211391915
undefined 0.5920771023667775
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ other: 'other' } 0.6990417298499123
cccc { other: 'other' } { sentinel: 'sentinel' }
{ sentinel: 'sentinel' } 0.8701222025847555
undefined 0.5132752807154619
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.11272516916135134
{ other: 'other' } 0.51331807525471
cccc { other: 'other' } { sentinel: 'sentinel' }
{ sentinel: 'sentinel' } 0.8967273848696842
undefined 0.8203788785395574
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ other: 'other' } 0.9768753248058282
cccc { other: 'other' } { sentinel: 'sentinel' }
{ sentinel: 'sentinel' } 0.9762850562192431
undefined 0.9806366726315936
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.24819007396527004
{ sentinel: 'sentinel' } 0.7578660280005598
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9806250364065401
{ sentinel: 'sentinel' } 0.7090808738408216
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.07428615591730159
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6503311400273428
{ sentinel: 'sentinel' } 0.8841348100368325
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.01098385774325572
{ sentinel: 'sentinel' } 0.6697954580037857
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7929356403820802
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.11002582201210198
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9340867001085709
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5804985696773441
{ sentinel: 'sentinel' } 0.19031515963100176
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.22651012142739746
{ sentinel: 'sentinel' } 0.8405496746354524
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.01639288865081845
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.19251225997142418
{ sentinel: 'sentinel' } 0.39941529334855974
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9785974833886941
{ sentinel: 'sentinel' } 0.8127978022545825
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.024924141174758052
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5223843249413589
{ sentinel: 'sentinel' } 0.9756848188656886
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6839209587375303
{ sentinel: 'sentinel' } 0.6048446345090015
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6973093262204155
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.4691840784100989
{ sentinel: 'sentinel' } 0.7199582396167743
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.04515931562619224
{ sentinel: 'sentinel' } 0.37444826262404995
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9025074679025957
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.2864701680503743
{ sentinel: 'sentinel' } 0.5021712998036081
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8047288692805912
{ sentinel: 'sentinel' } 0.47335378417422747
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.1424889253746644
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.20940284840767465
{ sentinel: 'sentinel' } 0.4798322223196827
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9618261724085555
{ sentinel: 'sentinel' } 0.8763701906518926
sdfdsfsfsdf
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3363725385347014
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.19095868182143838
{ sentinel: 'sentinel' } 0.546621928138189
undefined 0.49027919172787837
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ sentinel: 'sentinel' } 0.23065821775938944
undefined 0.5170571251722786
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8616898524457701
{ sentinel: 'sentinel' } 0.48282101598846405
undefined 0.08720029866071832
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ sentinel: 'sentinel' } 0.004812264880639905
undefined 0.681459927615014
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.019774397021939283
{ sentinel: 'sentinel' } 0.9978232003283687
undefined 0.19587259152625092
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ sentinel: 'sentinel' } 0.6420093925252821
undefined 0.4436021801367449
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.7325308836627609
{ sentinel: 'sentinel' } 0.42558911614365336
undefined 0.8489745484197353
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
{ sentinel: 'sentinel' } 0.9618836825597727
undefined 0.339770928211488
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5279358811160804
{ sentinel: 'sentinel' } 0.31863960204245534
{ sentinel: 'sentinel' } 0.9124174380152446
undefined 0.8060759982097292
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.058530017866556205
{ sentinel: 'sentinel' } 0.1858250155400898
{ sentinel: 'sentinel' } 0.5030542928501738
undefined 0.26619636392560797
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5980359412233829
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.2842528985123778
{ sentinel: 'sentinel' } 0.6014032751279508
{ sentinel: 'sentinel' } 0.46637075930932204
undefined 0.011050838279969888
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7407383332061277
{ sentinel: 'sentinel' } 0.12397093908612034
{ sentinel: 'sentinel' } 0.24588729788945152
undefined 0.7301668043326188
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7414098495769581
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.653950692259482
{ sentinel: 'sentinel' } 0.7473592005527465
{ sentinel: 'sentinel' } 0.9402265461244994
undefined 0.18855126139694045
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.0693167775851471
{ sentinel: 'sentinel' } 0.5124370362221844
{ sentinel: 'sentinel' } 0.7133405340435985
undefined 0.9972808520433667
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3685410554978916
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.12378053545208689
{ sentinel: 'sentinel' } 0.1847453307672975
{ sentinel: 'sentinel' } 0.8421767015921415
undefined 0.37919350404900576
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9024400614830388
{ sentinel: 'sentinel' } 0.30640437660062547
{ sentinel: 'sentinel' } 0.7328718713010318
undefined 0.5882474302316705
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7558770734489053
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8407135083662785
{ sentinel: 'sentinel' } 0.03912121929717016
{ sentinel: 'sentinel' } 0.4453898908892644
undefined 0.5707690057529717
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9169544351785133
{ sentinel: 'sentinel' } 0.19009298300537503
{ sentinel: 'sentinel' } 0.8900298624245622
undefined 0.058805752691048596
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3434418860120707
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.3666854363310448
{ sentinel: 'sentinel' } 0.7574053546243091
{ sentinel: 'sentinel' } 0.13682311113373324
undefined 0.8197873156417377
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4964172848499775
{ sentinel: 'sentinel' } 0.6299599544521213
{ sentinel: 'sentinel' } 0.28756060004535366
undefined 0.5250232009832554
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.960150600632409
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6251075897125355
{ sentinel: 'sentinel' } 0.942378322431487
{ sentinel: 'sentinel' } 0.22485937175332205
undefined 0.3035438216824158
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.613422276739797
{ sentinel: 'sentinel' } 0.06287668060439389
{ sentinel: 'sentinel' } 0.8080324485900146
undefined 0.7070010496925241
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.05352440028229766
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.537571809008504
{ sentinel: 'sentinel' } 0.3425633804573267
{ sentinel: 'sentinel' } 0.04677477041192857
undefined 0.5372628474665677
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7095413467684566
{ sentinel: 'sentinel' } 0.24470847118025696
{ sentinel: 'sentinel' } 0.8126708796038944
undefined 0.24283869483603238
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6203135728743208
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.7857477411914147
{ sentinel: 'sentinel' } 0.7610588034989558
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.6536716596948773
undefined 0.01474515499888418
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.571007846091361
{ sentinel: 'sentinel' } 0.49854998990695076
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.4202053956792766
undefined 0.07683325893754667
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.48137296781518235
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9970554798866389
{ sentinel: 'sentinel' } 0.5051904855306968
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.0007080942055965878
undefined 0.32745404598113415
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.45201212756738873
{ sentinel: 'sentinel' } 0.5798961287784803
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.1849887928128282
undefined 0.8240457418005829
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9578865963167722
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.3791841452815472
{ sentinel: 'sentinel' } 0.5554837596019182
{ sentinel: 'sentinel' } 0.10728951893108918
undefined 0.2601275256975084
{ sentinel: 'sentinel' } 0.18187112985809484
undefined 0.9806277318469041
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.13578360405469714
{ sentinel: 'sentinel' } 0.6981687935124048
{ sentinel: 'sentinel' } 0.4877025613085606
undefined 0.29775661339320236
{ sentinel: 'sentinel' } 0.7040098920818352
undefined 0.23344898742036158
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3324911209397834
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8238049322359136
{ sentinel: 'sentinel' } 0.09578949712897944
{ sentinel: 'sentinel' } 0.6540646254164011
undefined 0.2772400346803059
{ sentinel: 'sentinel' } 0.5707659103108187
undefined 0.5667354392864377
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.0005535189360541537
{ sentinel: 'sentinel' } 0.03173951911751405
{ sentinel: 'sentinel' } 0.1423531959154456
undefined 0.4006321778844333
{ sentinel: 'sentinel' } 0.43074992256610867
undefined 0.3735425609025611
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.016256173218082592
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.8436880031738094
{ sentinel: 'sentinel' } 0.812190942714182
{ sentinel: 'sentinel' } 0.49332932431995147
undefined 0.7181140214513597
{ sentinel: 'sentinel' } 0.3742145111742894
undefined 0.627041746442363
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8776727209770361
{ sentinel: 'sentinel' } 0.4347647439481517
{ sentinel: 'sentinel' } 0.952958278932799
undefined 0.13897547086895634
{ sentinel: 'sentinel' } 0.5022335783038774
undefined 0.27257628255950217
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9278249525857933
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.31450107267207983
{ sentinel: 'sentinel' } 0.4634510219464141
{ sentinel: 'sentinel' } 0.9886498979801173
undefined 0.7186937612723667
{ sentinel: 'sentinel' } 0.4994671841153968
undefined 0.07887618189380041
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9775171081431084
{ sentinel: 'sentinel' } 0.36663250119669266
{ sentinel: 'sentinel' } 0.1836724490925017
undefined 0.7859226148221472
{ sentinel: 'sentinel' } 0.34038770104231886
undefined 0.759800570415168
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.3744687689973627
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.3360544879539902
{ sentinel: 'sentinel' } 0.8772096465789361
{ sentinel: 'sentinel' } 0.8426286295055556
undefined 0.9870415454629458
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9248538526923087
{ sentinel: 'sentinel' } 0.6360982278369103
{ sentinel: 'sentinel' } 0.7077757097214545
undefined 0.3045010967439008
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7233073406684818
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.10878407442521332
{ sentinel: 'sentinel' } 0.05839317835198443
{ sentinel: 'sentinel' } 0.5393266511308206
undefined 0.04249393723792849
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9972196139888914
{ sentinel: 'sentinel' } 0.8109496053208156
{ sentinel: 'sentinel' } 0.06579659002465377
undefined 0.08219723267717916
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.5293793977644679
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9126529932023653
{ sentinel: 'sentinel' } 0.096836082949042
{ sentinel: 'sentinel' } 0.24653479629677966
undefined 0.6340005909920086
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.8417632588004884
{ sentinel: 'sentinel' } 0.2483192209925451
{ sentinel: 'sentinel' } 0.921892932749018
undefined 0.05225747634757405
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.28516274924299156
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.3545034416925035
{ sentinel: 'sentinel' } 0.566546060601727
{ sentinel: 'sentinel' } 0.7412828106400595
undefined 0.9298505201971363
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9852080471807951
{ sentinel: 'sentinel' } 0.16363591293938584
{ sentinel: 'sentinel' } 0.3374346896304601
undefined 0.9743431994281995
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9717568461495247
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.516759554274753
{ sentinel: 'sentinel' } 0.8066160360455896
{ sentinel: 'sentinel' } 0.8491653968922961
undefined 0.3089084839031635
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6738876037624566
{ sentinel: 'sentinel' } 0.8644819671963031
{ sentinel: 'sentinel' } 0.5041415096014976
undefined 0.480847076796739
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.018708800888679544
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.3931665136199687
{ sentinel: 'sentinel' } 0.23586784210429257
{ sentinel: 'sentinel' } 0.34129253443229546
undefined 0.636104961644465
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.70796746330825
{ sentinel: 'sentinel' } 0.25605438796467883
{ sentinel: 'sentinel' } 0.6118269140273034
undefined 0.3272373882393198
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.24235889017890488
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.6081467316955391
{ sentinel: 'sentinel' } 0.5323616300023868
{ sentinel: 'sentinel' } 0.1397073174192267
undefined 0.4068060278210257
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6749869681224596
{ sentinel: 'sentinel' } 0.47499883435366064
{ sentinel: 'sentinel' } 0.6587255301851433
undefined 0.2554242944404397
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9388660010484493
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.3548983792433671
{ sentinel: 'sentinel' } 0.2552059499943893
{ sentinel: 'sentinel' } 0.6474492242684062
undefined 0.13166226840973083
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.28354414922707805
{ sentinel: 'sentinel' } 0.8609847424813588
{ sentinel: 'sentinel' } 0.6422468437124058
undefined 0.7617812272102591
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.029855268444124006
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.17442455319268757
{ sentinel: 'sentinel' } 0.8961545727652453
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.8793499538413525
undefined 0.2541947118442296
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4352905316433737
{ sentinel: 'sentinel' } 0.9493013849298042
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.7457283566786379
undefined 0.7594019536210717
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4873667834466473
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.7395898756669466
{ sentinel: 'sentinel' } 0.5672945002035501
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.762965170863888
undefined 0.04592417476260002
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.4868516934330054
{ sentinel: 'sentinel' } 0.506900777195129
sdfdsfsfsdf
{ sentinel: 'sentinel' } 0.41235308779986
undefined 0.5690863216577124
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.009348676026252223
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.9034037548970277
{ sentinel: 'sentinel' } 0.37557802889311476
{ sentinel: 'sentinel' } 0.872100347864257
undefined 0.9953135390307137
{ sentinel: 'sentinel' } 0.9401429324786756
undefined 0.235333146226387
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.2932146028476095
{ sentinel: 'sentinel' } 0.28953123767082967
{ sentinel: 'sentinel' } 0.25940393706376264
undefined 0.7916320237406653
{ sentinel: 'sentinel' } 0.7383074652246076
undefined 0.19908597809577788
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9741911810930044
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.17444990061615817
{ sentinel: 'sentinel' } 0.4037074459394734
{ sentinel: 'sentinel' } 0.8093733114248385
undefined 0.8661040388613164
{ sentinel: 'sentinel' } 0.136256905682006
undefined 0.3374066343719315
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.7773980839602685
{ sentinel: 'sentinel' } 0.8902209940626138
{ sentinel: 'sentinel' } 0.1838385022972353
undefined 0.7568920862133117
{ sentinel: 'sentinel' } 0.9893384378084678
undefined 0.9243517072604388
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.9276708836171943
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.056545273910447946
{ sentinel: 'sentinel' } 0.18451611389607048
{ sentinel: 'sentinel' } 0.8973822861110767
undefined 0.7233944065938007
{ sentinel: 'sentinel' } 0.24627565624884418
undefined 0.28024155781354865
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.2864647471141373
{ sentinel: 'sentinel' } 0.8699862086140628
{ sentinel: 'sentinel' } 0.5488886805819766
undefined 0.3746418047375071
{ sentinel: 'sentinel' } 0.19688734013917286
undefined 0.933299033364358
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.6569199144900504
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
{ dummy: 'dummy' } 0.5680685194247546
{ sentinel: 'sentinel' } 0.3664205769675404
{ sentinel: 'sentinel' } 0.2180204847596794
undefined 0.43527386292173764
{ sentinel: 'sentinel' } 0.7635377710451454
undefined 0.5926636446483049
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.04661504642918013
{ sentinel: 'sentinel' } 0.86559495038561
{ sentinel: 'sentinel' } 0.22954487497169307
undefined 0.06477725326847406
{ sentinel: 'sentinel' } 0.47665908397362267
undefined 0.8378631105489607
cccc { sentinel: 'sentinel' } { sentinel: 'sentinel' }
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
undefined 0.11790958314717215
                              </dl>
                            </section>
                          </dl>
                        </section>
                      </dl>
                    </section>
                  </dl>
                </section>
              </dl>
            </section>
          </dl>
        </section>
      </dl>
    </section>
</div>
<a href="http://github.com/visionmedia/superagent"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
<script>
  $('code').each(function(){
    $(this).html(highlight($(this).text()));
  });

  function highlight(js) {
    return js
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/('.*?')/gm, '<span class="string">$1</span>')
      .replace(/(\d+\.\d+)/gm, '<span class="number">$1</span>')
      .replace(/(\d+)/gm, '<span class="number">$1</span>')
      .replace(/\bnew *(\w+)/gm, '<span class="keyword">new</span> <span class="init">$1</span>')
      .replace(/\b(function|new|throw|return|var|if|else)\b/gm, '<span class="keyword">$1</span>')
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/3.0.0/tocbot.js"></script>
<script>
  // Only use tocbot for main docs, not test docs
  if (document.querySelector('#superagent')) {
    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '#menu',
      // Where to grab the headings to build the table of contents.
      contentSelector: '#content',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h2',
      smoothScroll: false
    });
  }
</script>
</body>
</html>