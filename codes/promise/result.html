<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/3.0.0/tocbot.css">
    <!-- <link rel="stylesheet" href="docs/style.css"> -->
    <style>
      body {
  padding: 40px 80px;
  font: 14px/1.5 "Helvetica Neue", Helvetica, sans-serif;
  background: #181818 url(images/bg.png);
  text-align: center;
}

#content {
  margin: 0 auto;
  padding: 10px 40px;
  text-align: left;
  background: white;
  width: 50%;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  -webkit-box-shadow: 0 2px 5px 0 black;
}

#menu {
  font-size: 13px;
  margin: 0;
  padding: 0;
  text-align: left;
  position: fixed;
  top: 15px;
  left: 15px;
}

#menu ul {
  margin: 0;
  padding: 0;
}

#menu li {
  list-style: none;
}

#menu a {
  color: rgba(255,255,255,.5);
  text-decoration: none;
}

#menu a:hover {
  color: white;
}

#menu .active a {
  color: white;
}

pre {
  padding: 10px;
}

code {
  font-family: monaco, monospace, sans-serif;
  font-size: 0.85em;
}

p code {
  border: 1px solid #ECEA75;
  padding: 1px 3px;
  -webkit-border-radius: 2px;
  -moz-border-radius: 2px;
  border-radius: 2px;
  background: #FDFCD1;
}

pre {
  padding: 20px 25px;
  border: 1px solid #ddd;
  -webkit-box-shadow: inset 0 0 5px #eee;
  -moz-box-shadow: inset 0 0 5px #eee;
  box-shadow: inset 0 0 5px #eee;
}

code .comment { color: #ddd }
code .init { color: #2F6FAD }
code .string { color: #5890AD }
code .keyword { color: #8A6343 }
code .number { color: #2F6FAD }

/* override tocbot style to avoid vertical white line in table of content */
.toc-link::before {
  content: initial;
}

.error {
  color:red;
  font-weight:bold;
}

    </style>
  </head>
  <body>
    <ul id="menu"></ul>
    <div id="content">    <section class="suite">
      <h1>Promises/A+ Tests</h1>
      <dl>
        <section class="suite">
          <h1>2.3.3: Otherwise, if &#x60;x&#x60; is an object or function,</h1>
          <dl>
            <section class="suite">
              <h1>2.3.3.3: If &#x60;then&#x60; is a function, call it with &#x60;x&#x60; as &#x60;this&#x60;, first argument &#x60;resolvePromise&#x60;, and second argument &#x60;rejectPromise&#x60;</h1>
              <dl>
                <section class="suite">
                  <h1>2.3.3.3.1: If/when &#x60;resolvePromise&#x60; is called with value &#x60;y&#x60;, run &#x60;[[Resolve]](promise, y)&#x60;</h1>
                  <dl>
                    <section class="suite">
                      <h1>&#x60;y&#x60; is a thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
da453453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;y&#x60; is a thenable for a thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled custom thenable for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an asynchronously-fulfilled custom thenable for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a synchronously-fulfilled one-time thenable for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that tries to fulfill twice for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is a thenable that fulfills but then throws for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
45adfg3453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
da453453453
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an already-fulfilled promise for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that tries to fulfill twice</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that fulfills but then throws</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an already-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an eventually-fulfilled promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an asynchronously-rejected custom thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a synchronously-rejected one-time thenable</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for a thenable that immediately throws in &#x60;then&#x60;</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an object with a throwing &#x60;then&#x60; accessor</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt class="error">via return from a fulfilled promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                                <dt class="error">via return from a rejected promise</dt>
                                <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dd class="error">Error: the object {
  &#x22;sentinel&#x22;: &#x22;sentinel&#x22;
} was thrown, throw an Error :)</dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an already-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;y&#x60; is an eventually-fulfilled promise for an eventually-rejected promise</h1>
                          <dl>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; synchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                            <section class="suite">
                              <h1>&#x60;then&#x60; calls &#x60;resolvePromise&#x60; asynchronously</h1>
                              <dl>
                                <dt>via return from a fulfilled promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                                <dt>via return from a rejected promise</dt>
                                <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                                <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                              </dl>
                            </section>
                          </dl>
                        </section>
                      </dl>
                    </section>
                  </dl>
                </section>
                <section class="suite">
                  <h1>2.3.3.3.2: If/when &#x60;rejectPromise&#x60; is called with reason &#x60;r&#x60;, reject &#x60;promise&#x60; with &#x60;r&#x60;</h1>
                  <dl>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;undefined&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;null&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;false&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is &#x60;0&#x60;</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an error</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an error without a stack</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is a date</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an object</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is an always-pending thenable</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is a fulfilled promise</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
dgdg453453453
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
dgdg453453453
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>&#x60;r&#x60; is a rejected promise</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; synchronously</h1>
                          <dl>
dgdg453453453
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;then&#x60; calls &#x60;rejectPromise&#x60; asynchronously</h1>
                          <dl>
dgdg453453453
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                  </dl>
                </section>
                <section class="suite">
                  <h1>2.3.3.3.3: If both &#x60;resolvePromise&#x60; and &#x60;rejectPromise&#x60; are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored.</h1>
                  <dl>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; then &#x60;rejectPromise&#x60;, both synchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; synchronously then &#x60;rejectPromise&#x60; asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; then &#x60;rejectPromise&#x60;, both asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-fulfilled promise, then calling &#x60;rejectPromise&#x60;, both synchronously</h1>
                      <dl>
                        <dt class="error">via return from a fulfilled promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                        <dt class="error">via return from a rejected promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-rejected promise, then calling &#x60;rejectPromise&#x60;, both synchronously</h1>
                      <dl>
                        <dt class="error">via return from a fulfilled promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                        <dt class="error">via return from a rejected promise</dt>
                        <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; then &#x60;resolvePromise&#x60;, both synchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; synchronously then &#x60;resolvePromise&#x60; asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; then &#x60;resolvePromise&#x60;, both asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; twice synchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; twice, first synchronously then asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; twice, both times asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-fulfilled promise, then calling it again, both times synchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;resolvePromise&#x60; with an asynchronously-rejected promise, then calling it again, both times synchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; twice synchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; twice, first synchronously then asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>calling &#x60;rejectPromise&#x60; twice, both times asynchronously</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>saving and abusing &#x60;resolvePromise&#x60; and &#x60;rejectPromise&#x60;</h1>
                      <dl>
                        <dt>via return from a fulfilled promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                        <dt>via return from a rejected promise</dt>
                        <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                        <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                      </dl>
                    </section>
                  </dl>
                </section>
                <section class="suite">
                  <h1>2.3.3.3.4: If calling &#x60;then&#x60; throws an exception &#x60;e&#x60;,</h1>
                  <dl>
                    <section class="suite">
                      <h1>2.3.3.3.4.1: If &#x60;resolvePromise&#x60; or &#x60;rejectPromise&#x60; have been called, ignore it.</h1>
                      <dl>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; was called with a non-thenable</h1>
                          <dl>
da453453453
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; was called with an asynchronously-fulfilled promise</h1>
                          <dl>
da453453453
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; was called with an asynchronously-rejected promise</h1>
                          <dl>
da453453453
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;rejectPromise&#x60; was called</h1>
                          <dl>
da453453453
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; then &#x60;rejectPromise&#x60; were called</h1>
                          <dl>
da453453453
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;rejectPromise&#x60; then &#x60;resolvePromise&#x60; were called</h1>
                          <dl>
da453453453
                            <dt>via return from a fulfilled promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dt>via return from a rejected promise</dt>
                            <dt>/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                    <section class="suite">
                      <h1>2.3.3.3.4.2: Otherwise, reject &#x60;promise&#x60; with &#x60;e&#x60; as the reason.</h1>
                      <dl>
                        <section class="suite">
                          <h1>straightforward case</h1>
                          <dl>
da453453453
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;resolvePromise&#x60; is called asynchronously before the &#x60;throw&#x60;</h1>
                          <dl>
da453453453
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                        <section class="suite">
                          <h1>&#x60;rejectPromise&#x60; is called asynchronously before the &#x60;throw&#x60;</h1>
                          <dl>
da453453453
                            <dt class="error">via return from a fulfilled promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = resolved(dummy).then(function onBasePromiseFulfilled() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                            <dt class="error">via return from a rejected promise</dt>
                            <dt class="error">/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js</dt>
                            <dd class="error"><pre><code>var promise = rejected(dummy).then(null, function onBasePromiseRejected() {
    return xFactory();
});
test(promise, done);</code></pre></dd>
                            <dd class="error">Error: Timeout of 200ms exceeded. For async tests and hooks, ensure &#x22;done()&#x22; is called; if returning a Promise, ensure it resolves. (/Users/zhengqiguang/Work/private/note-book/codes/promise/promise_2.js)</dd>
                          </dl>
                        </section>
                      </dl>
                    </section>
                  </dl>
                </section>
              </dl>
            </section>
          </dl>
        </section>
      </dl>
    </section>
</div>
<a href="http://github.com/visionmedia/superagent"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
<script>
  $('code').each(function(){
    $(this).html(highlight($(this).text()));
  });

  function highlight(js) {
    return js
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/('.*?')/gm, '<span class="string">$1</span>')
      .replace(/(\d+\.\d+)/gm, '<span class="number">$1</span>')
      .replace(/(\d+)/gm, '<span class="number">$1</span>')
      .replace(/\bnew *(\w+)/gm, '<span class="keyword">new</span> <span class="init">$1</span>')
      .replace(/\b(function|new|throw|return|var|if|else)\b/gm, '<span class="keyword">$1</span>')
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/3.0.0/tocbot.js"></script>
<script>
  // Only use tocbot for main docs, not test docs
  if (document.querySelector('#superagent')) {
    tocbot.init({
      // Where to render the table of contents.
      tocSelector: '#menu',
      // Where to grab the headings to build the table of contents.
      contentSelector: '#content',
      // Which headings to grab inside of the contentSelector element.
      headingSelector: 'h2',
      smoothScroll: false
    });
  }
</script>
</body>
</html>