---
title: context/this/call/apply/bind
tags: []
date: 2022-05-28 15:34:59
---


## 什么是作用域

作用域我们在聊关键字[var/let/const](./var-let-const.md)的时候也有说过， 作用域是用来指定变量/函数可供访问的范围,即变量/函数被定义和访问的范围及关系。

js是词法作用域，也叫做静态作用域,前面说过 js 有以下作用域

* 全局作用域: window/global

* 函数作用域

* 块级作用域(ES6 -- let/const)

简单来说js的词法作用域就是在 js 进行语法词法分析的时候就确定的作用域 , 这里面就涉及到前面文章说过的`变量提升`等概念了

## 关键的 this

this 关键字在 js 编程中经常被使用，而且因为在不同场景下表现存在差异，很容易出现 bug , 所以我们来讨论下

首先我们先区分作用域和 this，简单来说如下
> 作用域在 js 语法分析的时候就已经确定
> this 的指向是根据调用函数运行的上下文动态确定的

前面说到，this 的指向和`调用函数`存在关系,下面总结下几种关系

* 在函数体中，简单调用函数，this 绑定到全局对象`window/global`,如果是在严格模式下，this 绑定到 undefined
* 通过 new 调用的函数，this 会绑定到新创建的对象上
* 根据上下文对象调用，绑定在该对象上
* 通过 call/apply/bind 调用，绑定到指定参数的对象上
* 如果是箭头函数，则会根据外层上下文绑定的 this 决定 this 指向

<!--truncate-->
`call`、`apply`、`bind` 三个方法的关注点都是在`函数作用域` 上面，从作用上面都是重新绑定函数的作用域, 方法之间略微有些差别
